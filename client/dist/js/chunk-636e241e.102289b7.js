(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-636e241e"],{"7c45":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade"}},[t.$store.state.isLoaded?a("el-container",{attrs:{direction:"vertical"}},[a("el-header",{attrs:{height:"60px"}},[a("h1",[t._v("\n        "+t._s(t.$t("System Logs"))+"\n        "),a("div",{staticClass:"header-control"},[a("div",{staticClass:"log-filter-input"},[a("el-input",{attrs:{placeholder:t.$t("Input filter content"),size:"small"},model:{value:t.logFilter,callback:function(e){t.logFilter=e},expression:"logFilter"}},[t.logFilter?a("i",{staticClass:"el-input__icon el-icon-close text-main",attrs:{slot:"prefix"},on:{click:function(e){t.logFilter=""}},slot:"prefix"}):t._e()])],1)])])]),t._v(" "),a("el-main",{staticClass:"common-table-container"},[t.T.isNothing(t.filteredData)?t._e():a("el-table",{staticClass:"common-table",attrs:{height:"100%",size:"mini","show-header":!1,data:t.filteredData}},[a("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[a("pre",{staticClass:"log-line",class:t.logClass(e.row)},[t._v(t._s(e.row))])]}}],null,!1,1558803519)})],1)],1)],1):t._e()],1)},o=[],i=a("a6db"),s=(a("fbe6"),a("d44b"),a("da17"),a("ff7f"),a("e5ac"),a("672e"),{name:"SystemLogs",components:{},watch:{$route:{immediate:!0,handler:function(t,e){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.loadData();case 2:case"end":return t.stop()}}),t)})))()}}},methods:{loadData:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t=t||{},n={},n[e.$store.getters.CONFIG("_WEB_TRACE_ID_HEADER")]=e.$store.getters.CONFIG("_WEB_PULL_LOG_TRACE_ID"),a.next=5,e.T.callAPI_get("/api/v1/system-logs",{headers:n,query:{position:e.nextPosition}});case 5:if(o=a.sent,o.ok){a.next=8;break}return a.abrupt("return");case 8:t.append?e.data=e.data.concat(o.data.logs):e.data=o.data.logs,e.data=e.data.slice(-5e3),e.nextPosition=o.data.nextPosition,e.$store.commit("updateLoadStatus",!0);case 12:case"end":return a.stop()}}),a)})))()},logClass:function(t){return this.T.startsWith(t,"[D]")?"log-debug":this.T.startsWith(t,"[I]")?"log-info":this.T.startsWith(t,"[W]")?"log-warning":this.T.startsWith(t,"[E]")?"log-error":""}},computed:{filteredData:function(){var t=this;return this.logFilter?this.data.filter((function(e){return e.toLowerCase().indexOf(t.logFilter.toLowerCase())>=0})):this.data}},props:{},data:function(){return{data:[],logFilter:"",nextPosition:null}},mounted:function(){var t=this;setInterval((function(){"system-logs"===t.$route.name&&t.loadData({append:!0})}),5e3)}}),r=s,l=(a("a927"),a("0620")),c=a("ce39"),u=Object(l["a"])(r,n,o,!1,null,"7ae2fd62",null);"function"===typeof c["default"]&&Object(c["default"])(u);e["default"]=u.exports},a927:function(t,e,a){"use strict";a("e8d8")},ce39:function(t,e,a){"use strict";var n=a("f3ea"),o=a.n(n);e["default"]=o.a},e8d8:function(t,e,a){},f3ea:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh-CN":{"Input filter content":"输入过滤内容"}}'),delete t.options._Ctor}}}]);