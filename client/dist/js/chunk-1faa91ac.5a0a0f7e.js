(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1faa91ac"],{"0797":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"zh-CN":{"Download as a text file":"作为文本文件下载"}}'),delete e.options._Ctor}},1646:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"zh-CN":{"Auth Type":"认证类型","Config":"配置","No config":"未配置","andMoreConfigs":"以及其他 {n} 项目配置","andMoreUsers":"以及其他 {n} 个用户","API Auth deleted":"API认证已删除","No API Auth has ever been added":"从未添加过任何 API 认证","Are you sure you want to delete the API Auth?":"是否确认删除此 API 认证？","Sync and Async APIs can be accessed without authentication by default":"同步、异步 API 在默认情况下不需要认证即可访问","If you need to enhance security, you can create API Auth for Sync and Async APIs.":"如需要增强安全性，可以为同步、异步创建 API 认证"}}'),delete e.options._Ctor}},"1b85":function(e,t,n){"use strict";n("7c5d")},"21a6":function(e,t,n){(function(n){var a,o,i;(function(n,s){o=[],a=s,i="function"===typeof a?a.apply(t,o):a,void 0===i||(e.exports=i)})(0,(function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function a(e,t,n){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){c(a.response,t,n)},a.onerror=function(){console.error("could not download file")},a.send()}function o(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(a){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,r=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(e,t,n){var r=s.URL||s.webkitURL,c=document.createElement("a");t=t||e.name||"download",c.download=t,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?i(c):o(c.href)?a(e,t,n):i(c,c.target="_blank")):(c.href=r.createObjectURL(e),setTimeout((function(){r.revokeObjectURL(c.href)}),4e4),setTimeout((function(){i(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,s){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,s),n);else if(o(e))a(e,n,s);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout((function(){i(r)}))}}:function(e,t,n,o){if(o=o||open("","_blank"),o&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return a(e,t,n);var i="application/octet-stream"===e.type,c=/constructor/i.test(s.HTMLElement)||s.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||i&&c||r)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var e=l.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},l.readAsDataURL(e)}else{var d=s.URL||s.webkitURL,f=d.createObjectURL(e);o?o.location=f:location.href=f,o=null,setTimeout((function(){d.revokeObjectURL(f)}),4e4)}});s.saveAs=c.saveAs=c,e.exports=c}))}).call(this,n("c8ba"))},"29c8":function(e,t,n){"use strict";n.r(t);n("b0c0");var a=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"fade"}},[t("el-container",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.isLoaded,expression:"$store.state.isLoaded"}],attrs:{direction:"vertical"}},[t("el-header",{attrs:{height:"60px"}},[t("div",{staticClass:"common-page-header"},[t("h1",[e._v(e._s(e.$t("API Auth")))]),e._v(" "),t("div",{staticClass:"header-control"},[t("FuzzySearchInput",{attrs:{dataFilter:e.dataFilter}}),e._v(" "),t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.openSetup(null,"add")}}},[t("i",{staticClass:"fa fa-fw fa-plus"}),e._v("\n            "+e._s(e.$t("New"))+"\n          ")])],1)])]),e._v(" "),t("el-main",{staticClass:"common-table-container"},[e.T.isNothing(e.data)?t("div",{staticClass:"no-data-area"},[e.T.isPageFiltered()?t("h1",{staticClass:"no-data-title"},[t("i",{staticClass:"fa fa-fw fa-search"}),e._v(e._s(e.$t("No matched data found")))]):t("h1",{staticClass:"no-data-title"},[t("i",{staticClass:"fa fa-fw fa-info-circle"}),e._v(e._s(e.$t("No API Auth has ever been added")))]),e._v(" "),t("p",{staticClass:"no-data-tip"},[e._v("\n          "+e._s(e.$t("Sync and Async APIs can be accessed without authentication by default"))+"\n          "),t("br"),e._v(e._s(e.$t("If you need to enhance security, you can create API Auth for Sync and Async APIs."))+"\n        ")])]):t("el-table",{staticClass:"common-table",attrs:{height:"100%",data:e.data,"row-class-name":e.T.getHighlightRowCSS}},[t("el-table-column",{attrs:{label:e.$t("Title")},scopedSlots:e._u([{key:"default",fn:function(n){return[e._v("\n            "+e._s(n.row.title||n.row.func_title)+"\n            "),n.row.note?[t("br"),e._v(" "),t("span",{staticClass:"text-info"},[e._v("　"+e._s(e.$t("Note"))+e._s(e.$t(":")))]),e._v(" "),t("span",[e._v(e._s(n.row.note))])]:e._e()]}}])}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("Auth Type"),width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e.C.API_AUTH_MAP.get(t.row.type).name)+"\n          ")]}}])}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("Config")},scopedSlots:e._u([{key:"default",fn:function(n){return["fixedField"===n.row.type?t("span",[e.T.isNothing(n.row.configJSON.fields)?t("span",{staticClass:"text-bad"},[e._v("\n                "+e._s(e.$t("No config"))+"\n              ")]):t("span",[e._v("\n                "+e._s(e.C.API_AUTH_FIXED_FIELD_LOCATION_MAP.get(n.row.configJSON.fields[0].location).name)+"\n                "),t("code",{staticClass:"text-main"},[e._v(e._s(n.row.configJSON.fields[0].name))]),e._v(" "),n.row.configJSON.fields.length>1?t("span",{staticClass:"more-configs-tip"},[t("br"),e._v("　\n                  "+e._s(e.$tc("andMoreConfigs",n.row.configJSON.fields.length-1))+"\n                ")]):e._e()])]):"httpBasic"===n.row.type||"httpDigest"===n.row.type?t("span",[e.T.isNothing(n.row.configJSON.users)?t("span",{staticClass:"text-bad"},[e._v("\n                "+e._s(e.$t("No config"))+"\n              ")]):t("span",[e._v("\n                "+e._s(e.$t("User"))+"\n                "),t("code",{staticClass:"text-main"},[e._v(e._s(n.row.configJSON.users[0].username))]),e._v(" "),n.row.configJSON.users.length>1?t("span",{staticClass:"more-configs-tip"},[t("br"),e._v("　\n                  "+e._s(e.$tc("andMoreUsers",n.row.configJSON.users.length-1))+"\n                ")]):e._e()])]):"func"===n.row.type?[t("FuncInfo",{attrs:{"config-func-id":n.row.configJSON.funcId,id:n.row.func_id,title:n.row.func_title}})]:e._e()]}}])}),e._v(" "),t("el-table-column",{attrs:{align:"right",width:"300"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-link",{on:{click:function(t){return e.openSetup(n.row,"setup")}}},[e._v(e._s(e.$t("Setup")))]),e._v(" "),t("el-link",{on:{click:function(t){return e.quickSubmitData(n.row,"delete")}}},[e._v(e._s(e.$t("Delete")))])]}}])})],1)],1),e._v(" "),t("Pager",{attrs:{pageInfo:e.pageInfo}}),e._v(" "),t("APIAuthSetup",{ref:"setup"})],1)],1)},o=[],i=n("c7eb"),s=n("1da1"),r=(n("130f"),function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{id:"ScriptSetSetup",visible:e.show,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"750px"},on:{"update:visible":function(t){e.show=t}}},[t("template",{slot:"title"},[e._v("\n    "+e._s(e.pageTitle)+" "),"setup"===e.pageMode?t("code",{staticClass:"text-main"},[e._v(e._s(e.data.title||e.C.API_AUTH_MAP.get(e.selectedType).name))]):e._e()]),e._v(" "),t("el-container",{attrs:{direction:"vertical"}},[t("el-main",[t("div",{staticClass:"setup-form"},[t("el-form",{ref:"form",attrs:{"label-width":"135px",model:e.form,rules:e.formRules}},["add"===e.pageMode?t("el-form-item",{attrs:{label:e.$t("Auth Type"),prop:"type"}},[t("el-select",{on:{change:e.switchType},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.C.API_AUTH,(function(e){return t("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})})),1)],1):t("el-form-item",{attrs:{label:e.$t("Auth Type")}},[t("el-select",{attrs:{disabled:!0},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}},[t("el-option",{attrs:{label:e.C.API_AUTH_MAP.get(e.selectedType).name,value:e.selectedType}})],1)],1),e._v(" "),e.selectedType?[e.C.API_AUTH_MAP.get(e.selectedType).tips?t("el-form-item",[t("InfoBlock",{attrs:{type:"info",title:e.C.API_AUTH_MAP.get(e.selectedType).tips}})],1):e._e(),e._v(" "),t("el-form-item",{attrs:{label:e.$t("Title")}},[t("el-input",{attrs:{placeholder:e.$t("Optional"),maxlength:"200"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),e.hasConfigField(e.selectedType,"fields")?[t("el-form-item",{staticClass:"config-divider",attrs:{label:e.$t("Fixed Fields")}},[t("el-divider")],1),e._v(" "),e._l(e.form.configJSON.fields||[],(function(n,a){return[t("el-form-item",{key:"fieldLocation-".concat(a),staticClass:"fixed-field-location",attrs:{label:"#".concat(a+1),prop:"configJSON.fields.".concat(a,".location"),rules:e.formRules_fixedFieldLocation}},[t("el-select",{model:{value:n.location,callback:function(t){e.$set(n,"location",t)},expression:"fixedField.location"}},e._l(e.C.API_AUTH_FIXED_FIELD_LOCATION,(function(e){return t("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})})),1),e._v(" "),t("el-link",{attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.removeFixedFieldItem(a)}}},[e._v(e._s(e.$t("Delete")))])],1),e._v(" "),t("el-form-item",{key:"fieldName-".concat(a),staticClass:"fixed-field",attrs:{prop:"configJSON.fields.".concat(a,".name"),rules:e.formRules_fixedFieldName}},[t("el-input",{attrs:{placeholder:e.$t("Field Name")},model:{value:n.name,callback:function(t){e.$set(n,"name",t)},expression:"fixedField.name"}})],1),e._v(" "),t("el-form-item",{key:"fieldValue-".concat(a),staticClass:"fixed-field",attrs:{prop:"configJSON.fields.".concat(a,".value"),rules:e.formRules_fixedFieldValue}},[t("el-input",{attrs:{placeholder:e.$t("Field Value")},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"fixedField.value"}})],1)]})),e._v(" "),t("el-form-item",[t("el-link",{attrs:{type:"primary"},on:{click:e.addFixedFieldItem}},[t("i",{staticClass:"fa fa-fw fa-plus"}),e._v(" "+e._s(e.$t("Add Fixed Field")))])],1)]:e._e(),e._v(" "),e.hasConfigField(e.selectedType,"users")?[t("el-form-item",{staticClass:"config-divider",attrs:{label:e.$t("Users")}},[t("el-divider")],1),e._v(" "),e._l(e.form.configJSON.users||[],(function(n,a){return[t("el-form-item",{key:"username-".concat(a),staticClass:"http-auth",attrs:{label:"#".concat(a+1),prop:"configJSON.users.".concat(a,".username"),rules:e.formRules_httpAuthUsername}},[t("el-input",{attrs:{placeholder:e.$t("Username")},model:{value:n.username,callback:function(t){e.$set(n,"username",t)},expression:"user.username"}}),e._v(" "),t("el-link",{attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.removeHTTPAuthUser(a)}}},[e._v(e._s(e.$t("Delete")))])],1),e._v(" "),t("el-form-item",{key:"password-".concat(a),staticClass:"http-auth",attrs:{prop:"configJSON.users.".concat(a,".password"),rules:e.formRules_httpAuthPassword}},[t("el-input",{attrs:{placeholder:e.$t("Password (leave blank when not changing)")},model:{value:n.password,callback:function(t){e.$set(n,"password",t)},expression:"user.password"}})],1)]})),e._v(" "),t("el-form-item",[t("el-link",{attrs:{type:"primary"},on:{click:e.addHTTPAuthUser}},[t("i",{staticClass:"fa fa-fw fa-plus"}),e._v(" "+e._s(e.$t("Add User")))])],1)]:e._e(),e._v(" "),e.hasConfigField(e.selectedType,"funcId")?[t("el-form-item",{attrs:{label:e.$t("Func"),prop:"configJSON.funcId"}},[t("el-cascader",{ref:"funcCascader",attrs:{placeholder:"--",filterable:"","filter-method":e.common.funcCascaderFilter,options:e.funcCascader,props:{expandTrigger:"hover",emitPath:!1,multiple:!1}},model:{value:e.form.configJSON.funcId,callback:function(t){e.$set(e.form.configJSON,"funcId",t)},expression:"form.configJSON.funcId"}}),e._v(" "),t("InfoBlock",{attrs:{type:"info",title:e.$t("Func with a specific format is required")}}),e._v(" "),t("el-button",{attrs:{type:"text"},on:{click:e.showAuthFuncSampleCode}},[e._v(e._s(e.$t("Show Sample Code")))])],1)]:e._e(),e._v(" "),t("el-form-item",{attrs:{label:e.$t("Note")}},[t("el-input",{attrs:{placeholder:e.$t("Optional"),type:"textarea",resize:"none",autosize:{minRows:2},maxlength:"5000"},model:{value:e.form.note,callback:function(t){e.$set(e.form,"note",t)},expression:"form.note"}})],1),e._v(" "),t("el-form-item",{staticClass:"setup-footer"},["setup"===e.pageMode?t("el-button",{staticClass:"danger-button float-left",on:{click:e.deleteData}},[e._v(e._s(e.$t("Delete")))]):e._e(),e._v(" "),t("el-button",{directives:[{name:"prevent-re-click",rawName:"v-prevent-re-click"}],attrs:{type:"primary"},on:{click:e.submitData}},[e._v(e._s(e.$t("Save")))])],1)]:e._e()],2)],1)]),e._v(" "),t("LongTextDialog",{ref:"longTextDialog",attrs:{title:e.$t("Sample Code"),mode:"python"}})],1)],2)}),c=[],u=(n("99af"),n("d81d"),n("14d9"),n("a434"),n("b64b"),n("d3b7"),n("159b"),n("b76c")),l={name:"APIAuthSetup",components:{LongTextDialog:u["a"]},watch:{show:function(e){e&&this.$refs.form&&this.$refs.form.clearValidate(),e||this.$root.$emit("reload.apiAuthList")}},methods:{updateValidator:function(e){this.$refs.form&&this.$refs.form.clearValidate();var t=this.C.API_AUTH_MAP.get(e).configFields;if(t)for(var n in t)if(t.hasOwnProperty(n)){var a=t[n];if(!a)continue;var o=this.formRules["configJSON.".concat(n)];o&&(o[0].required=!!a.isRequired)}},fillDefault:function(e){var t=this.C.API_AUTH_MAP.get(e).configFields;if(t){var n={};for(var a in t)if(t.hasOwnProperty(a)){var o=t[a];if(!o)continue;this.T.notNothing(o.default)&&(n[a]=o.default)}this.form.configJSON=n}},switchType:function(e){this.fillDefault(e),this.updateValidator(e)},loadData:function(e){var t=this;return Object(s["a"])(Object(i["a"])().mark((function n(){var a,o,s;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e){n.next=7;break}t.pageMode="add",t.T.jsonClear(t.form),t.form.configJSON={},t.data={},n.next=19;break;case 7:return t.pageMode="setup",t.data.id=e,n.next=11,t.T.callAPI_getOne("/api/v1/api-auth/do/list",t.data.id);case 11:if(a=n.sent,a&&a.ok){n.next=14;break}return n.abrupt("return");case 14:t.data=a.data,o={},Object.keys(t.form).forEach((function(e){return o[e]=t.data[e]})),t.form=o,t.updateValidator(t.data.type);case 19:return n.next=21,t.common.getFuncList();case 21:s=n.sent,t.funcMap=s.map,t.funcCascader=s.cascader,t.show=!0;case 25:case"end":return n.stop()}}),n)})))()},submitData:function(){var e=this;return Object(s["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.form.validate();case 3:t.next=8;break;case 5:return t.prev=5,t.t0=t["catch"](0),t.abrupt("return",console.error(t.t0));case 8:t.t1=e.pageMode,t.next="add"===t.t1?11:"setup"===t.t1?14:17;break;case 11:return t.next=13,e.addData();case 13:return t.abrupt("return",t.sent);case 14:return t.next=16,e.modifyData();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}}),t,null,[[0,5]])})))()},_getFormData:function(){var e=this.T.jsonCopy(this.form);if(e.configJSON)for(var t in e.configJSON)this.T.isNothing(e.configJSON[t])&&(e.configJSON[t]=null);return e},addData:function(){var e=this;return Object(s["a"])(Object(i["a"])().mark((function t(){var n,a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e._getFormData(),t.next=3,e.T.callAPI("post","/api/v1/api-auth/do/add",{body:{data:n},alert:{okMessage:e.$t("API Auth created")}});case 3:if(a=t.sent,a&&a.ok){t.next=6;break}return t.abrupt("return");case 6:e.$store.commit("updateHighlightedTableDataId",a.data.id),e.show=!1;case 8:case"end":return t.stop()}}),t)})))()},modifyData:function(){var e=this;return Object(s["a"])(Object(i["a"])().mark((function t(){var n,a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e._getFormData(),delete n.id,delete n.type,t.next=5,e.T.callAPI("post","/api/v1/api-auth/:id/do/modify",{params:{id:e.data.id},body:{data:n},alert:{okMessage:e.$t("API Auth saved")}});case 5:if(a=t.sent,a&&a.ok){t.next=8;break}return t.abrupt("return");case 8:e.$store.commit("updateHighlightedTableDataId",a.data.id),e.show=!1;case 10:case"end":return t.stop()}}),t)})))()},deleteData:function(){var e=this;return Object(s["a"])(Object(i["a"])().mark((function t(){var n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.T.confirm(e.$t("Are you sure you want to delete the API Auth?"));case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.T.callAPI("/api/v1/api-auth/:id/do/delete",{params:{id:e.data.id},alert:{okMessage:e.$t("API Auth deleted")}});case 6:if(n=t.sent,n&&n.ok){t.next=9;break}return t.abrupt("return");case 9:e.show=!1;case 10:case"end":return t.stop()}}),t)})))()},hasConfigField:function(e,t){return!(!this.C.API_AUTH_MAP.get(e)||!this.C.API_AUTH_MAP.get(e).configFields)&&t in this.C.API_AUTH_MAP.get(e).configFields},addFixedFieldItem:function(){this.T.isNothing(this.form.configJSON.fields)&&this.$set(this.form.configJSON,"fields",[]),this.form.configJSON.fields.push({location:"",name:"",value:""})},removeFixedFieldItem:function(e){this.form.configJSON.fields.splice(e,1)},addHTTPAuthUser:function(){this.T.isNothing(this.form.configJSON.users)&&this.$set(this.form.configJSON,"users",[]),this.form.configJSON.users.push({username:"",password:""})},removeHTTPAuthUser:function(e){this.form.configJSON.users.splice(e,1)},showAuthFuncSampleCode:function(){var e="@DFF.API('My Auth Func')\ndef my_auth_func():\n    # ".concat(this.$t("Get / Check fields in Header"),"\n    try:\n        is_valid_header = _DFF_HTTP_REQUEST['headers']['x-auth-token'] == 'TOKEN'\n    except Exception as e:\n        raise Exception('Missing `x-auth-token` in header')\n\n    # ").concat(this.$t("Get / Check fields in Query (e.g. http://you_domain/?auth-token=TOKEN)"),"\n    try:\n        is_valid_query = _DFF_HTTP_REQUEST['query']['auth-token'] == 'TOKEN'\n    except Exception as e:\n        raise Exception('Missing `auth-token` in query')\n\n    # ").concat(this.$t("Throw Exception when authentication fails"),"\n    if not (is_valid_header and is_valid_query):\n        raise Exception('Bad Auth Token')\n\n    # ").concat(this.$t("Return True when authentication succeeds"),"\n    return True");this.$refs.longTextDialog.update(e)}},computed:{pageTitle:function(){var e={setup:this.$t("Setup API Auth"),add:this.$t("Add API Auth")};return e[this.pageMode]},selectedType:function(){switch(this.pageMode){case"add":return this.form.type;case"setup":return this.data.type}}},props:{},data:function(){return{show:!1,pageMode:null,data:{},funcMap:{},funcCascader:[],form:{title:null,type:null,configJSON:{},note:null},formRules:{type:[{trigger:"blur",message:this.$t("Please input API Auth type"),required:!0}],funcId:[{trigger:"blur",message:this.$t("Please select Func"),required:!0}]},formRules_fixedFieldLocation:{trigger:"blur",message:this.$t("Please input location"),required:!0},formRules_fixedFieldName:{trigger:"blur",message:this.$t("Please input field name"),required:!0},formRules_fixedFieldValue:{trigger:"blur",message:this.$t("Please input field value"),required:!0},formRules_httpAuthUsername:{trigger:"blur",message:this.$t("Please input HTTP Auth username"),required:!0},formRules_httpAuthPassword:{trigger:"blur",message:this.$t("Please input HTTP Auth password"),required:!1}}}},d=l,f=(n("f6be"),n("2877")),p=n("6e4d"),h=n("ed69"),m=n("9395"),_=Object(f["a"])(d,r,c,!1,null,"b17f0536",null);"function"===typeof p["default"]&&Object(p["default"])(_),"function"===typeof h["default"]&&Object(h["default"])(_),"function"===typeof m["default"]&&Object(m["default"])(_);var A=_.exports,v={name:"APIAuthList",components:{APIAuthSetup:A},watch:{$route:{immediate:!0,handler:function(e,t){var n=this;return Object(s["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.loadData();case 2:case"end":return e.stop()}}),e)})))()}},"$store.state.isLoaded":function(e){var t=this;e&&setImmediate((function(){return t.T.autoScrollTable()}))}},methods:{loadData:function(){var e=this;return Object(s["a"])(Object(i["a"])().mark((function t(){var n,a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.dataFilter=e.T.createListQuery(),t.next=3,e.T.callAPI_get("/api/v1/api-auth/do/list",{query:n});case 3:if(a=t.sent,a&&a.ok){t.next=6;break}return t.abrupt("return");case 6:e.data=a.data,e.pageInfo=a.pageInfo,e.$store.commit("updateLoadStatus",!0);case 9:case"end":return t.stop()}}),t)})))()},quickSubmitData:function(e,t){var n=this;return Object(s["a"])(Object(i["a"])().mark((function a(){var o;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:a.t0=t,a.next="delete"===a.t0?3:8;break;case 3:return a.next=5,n.T.confirm(n.$t("Are you sure you want to delete the API Auth?"));case 5:if(a.sent){a.next=7;break}return a.abrupt("return");case 7:return a.abrupt("break",8);case 8:o=null,a.t1=t,a.next="delete"===a.t1?12:16;break;case 12:return a.next=14,n.T.callAPI("/api/v1/api-auth/:id/do/delete",{params:{id:e.id},alert:{okMessage:n.$t("API Auth deleted")}});case 14:return o=a.sent,a.abrupt("break",16);case 16:if(o&&o.ok){a.next=18;break}return a.abrupt("return");case 18:return n.$store.commit("updateHighlightedTableDataId",e.id),a.next=21,n.loadData();case 21:case"end":return a.stop()}}),a)})))()},openSetup:function(e,t){switch(t){case"add":this.$refs.setup.loadData();break;case"setup":this.$store.commit("updateHighlightedTableDataId",e.id),this.$refs.setup.loadData(e.id);break}}},computed:{},props:{},data:function(){var e=this.T.createPageInfo(),t=this.T.createListQuery();return{data:[],pageInfo:e,dataFilter:{_fuzzySearch:t._fuzzySearch}}},created:function(){this.$root.$on("reload.apiAuthList",this.loadData)},destroyed:function(){this.$root.$off("reload.apiAuthList")}},g=v,b=(n("33b4"),n("dd91")),y=n("809f"),w=n("b5e7"),P=n("e274"),I=Object(f["a"])(g,a,o,!1,null,"b9d585cc",null);"function"===typeof b["default"]&&Object(b["default"])(I),"function"===typeof y["default"]&&Object(y["default"])(I),"function"===typeof w["default"]&&Object(w["default"])(I),"function"===typeof P["default"]&&Object(P["default"])(I);t["default"]=I.exports},"308c":function(e,t,n){"use strict";var a=n("c59f"),o=n.n(a);t["default"]=o.a},3379:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"zh-HK":{"API Auth deleted":"API認證已刪除","Are you sure you want to delete the API Auth?":"是否確認刪除此 API 認證？","Auth Type":"認證類型","Config":"配置","If you need to enhance security, you can create API Auth for Sync and Async APIs.":"如需要增強安全性，可以為同步、異步創建 API 認證","No API Auth has ever been added":"從未添加過任何 API 認證","No config":"未配置","Sync and Async APIs can be accessed without authentication by default":"同步、異步 API 在默認情況下不需要認證即可訪問","andMoreConfigs":"以及其他 {n} 項目配置","andMoreUsers":"以及其他 {n} 個用户"}}'),delete e.options._Ctor}},"33b4":function(e,t,n){"use strict";n("e007")},"55fb":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"zh-TW":{"API Auth created":"API 認證已建立","API Auth deleted":"API 認證已刪除","API Auth saved":"API 認證已儲存","Add API Auth":"新增 API 認證","Add Fixed Field":"新增固定欄位","Add User":"新增使用者","Are you sure you want to delete the API Auth?":"是否確認刪除此 API 認證？","Auth Config":"認證配置","Auth Type":"認證型別","Field Name":"欄位名","Field Value":"欄位值","Fixed Fields":"固定欄位","Func":"認證函式","Func with a specific format is required":"必須指定特定格式的函式作為認證函式","Get / Check fields in Header":"獲取/檢查 Header 中欄位","Get / Check fields in Query (e.g. http://you_domain/?auth-token=TOKEN)":"獲取/檢查 Query 中欄位（如：http://you_domain/?auth-token=TOKEN）","Note":"備註","Password (leave blank when not changing)":"密碼（不修改時請留空）","Please select Func":"請選擇認證函式","Return True when authentication succeeds":"認證成功時，返回 True 即可","Sample Code":"示例程式碼","Setup API Auth":"配置 API 認證","Show Sample Code":"顯示示例程式碼","Throw Exception when authentication fails":"認證失敗時，丟擲 Exception 即可","Username":"使用者名稱","Users":"使用者"}}'),delete e.options._Ctor}},5928:function(e,t,n){},"68b5":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"zh-HK":{"API Auth created":"API 認證已創建","API Auth deleted":"API 認證已刪除","API Auth saved":"API 認證已保存","Add API Auth":"添加 API 認證","Add Fixed Field":"添加固定字段","Add User":"添加用户","Are you sure you want to delete the API Auth?":"是否確認刪除此 API 認證？","Auth Config":"認證配置","Auth Type":"認證類型","Field Name":"字段名","Field Value":"字段值","Fixed Fields":"固定字段","Func":"認證函數","Func with a specific format is required":"必須指定特定格式的函數作為認證函數","Get / Check fields in Header":"獲取/檢查 Header 中字段","Get / Check fields in Query (e.g. http://you_domain/?auth-token=TOKEN)":"獲取/檢查 Query 中字段（如：http://you_domain/?auth-token=TOKEN）","Note":"備註","Password (leave blank when not changing)":"密碼（不修改時請留空）","Please select Func":"請選擇認證函數","Return True when authentication succeeds":"認證成功時，返回 True 即可","Sample Code":"示例代碼","Setup API Auth":"配置 API 認證","Show Sample Code":"顯示示例代碼","Throw Exception when authentication fails":"認證失敗時，拋出 Exception 即可","Username":"用户名","Users":"用户"}}'),delete e.options._Ctor}},"6e4d":function(e,t,n){"use strict";var a=n("7beb"),o=n.n(a);t["default"]=o.a},7094:function(e,t,n){"use strict";var a=n("e254"),o=n.n(a);t["default"]=o.a},"7b0b4":function(e,t,n){"use strict";var a=n("0797"),o=n.n(a);t["default"]=o.a},"7beb":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"zh-CN":{"Add API Auth":"添加 API 认证","Setup API Auth":"配置 API 认证","Auth Type":"认证类型","Auth Config":"认证配置","Func":"认证函数","Note":"备注","Fixed Fields":"固定字段","Add Fixed Field":"添加固定字段","Field Name":"字段名","Field Value":"字段值","Users":"用户","Add User":"添加用户","Username":"用户名","Password (leave blank when not changing)":"密码（不修改时请留空）","Please select Func":"请选择认证函数","Func with a specific format is required":"必须指定特定格式的函数作为认证函数","Sample Code":"示例代码","Show Sample Code":"显示示例代码","API Auth created":"API 认证已创建","API Auth saved":"API 认证已保存","API Auth deleted":"API 认证已删除","Are you sure you want to delete the API Auth?":"是否确认删除此 API 认证？","Get / Check fields in Header":"获取/检查 Header 中字段","Get / Check fields in Query (e.g. http://you_domain/?auth-token=TOKEN)":"获取/检查 Query 中字段（如：http://you_domain/?auth-token=TOKEN）","Throw Exception when authentication fails":"认证失败时，抛出 Exception 即可","Return True when authentication succeeds":"认证成功时，返回 True 即可"}}'),delete e.options._Ctor}},"7c5d":function(e,t,n){},"809f":function(e,t,n){"use strict";var a=n("1646"),o=n.n(a);t["default"]=o.a},9395:function(e,t,n){"use strict";var a=n("55fb"),o=n.n(a);t["default"]=o.a},"985b":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"andMoreConfigs":"and {n} more config | and {n} more configs","andMoreUsers":"and {n} more user | and {n} more users"}}'),delete e.options._Ctor}},a434:function(e,t,n){"use strict";var a=n("23e7"),o=n("7b0b"),i=n("23cb"),s=n("5926"),r=n("07fa"),c=n("3511"),u=n("65f0"),l=n("8418"),d=n("083a"),f=n("1dde"),p=f("splice"),h=Math.max,m=Math.min;a({target:"Array",proto:!0,forced:!p},{splice:function(e,t){var n,a,f,p,_,A,v=o(this),g=r(v),b=i(e,g),y=arguments.length;for(0===y?n=a=0:1===y?(n=0,a=g-b):(n=y-2,a=m(h(s(t),0),g-b)),c(g+n-a),f=u(v,a),p=0;p<a;p++)_=b+p,_ in v&&l(f,p,v[_]);if(f.length=a,n<a){for(p=b;p<g-a;p++)_=p+a,A=p+n,_ in v?v[A]=v[_]:d(v,A);for(p=g;p>g-a+n;p--)d(v,p-1)}else if(n>a)for(p=g-a;p>b;p--)_=p+a-1,A=p+n-1,_ in v?v[A]=v[_]:d(v,A);for(p=0;p<n;p++)v[p+b]=arguments[p+2];return v.length=g-a+n,f}})},b5e7:function(e,t,n){"use strict";var a=n("3379"),o=n.n(a);t["default"]=o.a},b76c:function(e,t,n){"use strict";var a=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{id:"LongTextDialog",visible:e.show,"close-on-click-modal":!1,width:"70%"},on:{"update:visible":function(t){e.show=t}}},[t("template",{slot:"title"},[e._v("\n    "+e._s(e.title)+"\n    "),t("span",{staticClass:"text-info press-esc-to-close-tip"},[e._v(e._s(e.$t("Press ESC to close")))])]),e._v(" "),t("div",[e.showDownload&&e.fileName&&e.content?t("div",{staticClass:"download-link"},[t("el-link",{attrs:{type:"primary"},on:{click:e.download}},[e._v("\n        "+e._s(e.$t("Download as a text file"))+"\n        "),t("i",{staticClass:"fa fa-fw fa-download"})])],1):e._e(),e._v(" "),t("textarea",{attrs:{id:"longTextDialogContent"}})])],2)},o=[],i=(n("130f"),n("21a6")),s=n.n(i),r={name:"LongTextDialog",components:{},watch:{},methods:{update:function(e,t){var n=this;this.codeMirror&&this.codeMirror.setValue(""),this.content=e,this.fileName=(t||"dump")+".txt",this.show=!0,setImmediate((function(){if(!n.codeMirror){var e={mode:n.mode||"text"};n.codeMirror=n.T.initCodeMirror("longTextDialogContent",e),n.codeMirror.setOption("theme",n.T.getCodeMirrorThemeName()),n.T.setCodeMirrorReadOnly(n.codeMirror,!0)}n.codeMirror.setValue(n.content||""),n.codeMirror.refresh(),n.codeMirror.focus()}))},download:function(){var e=new Blob([this.content],{type:"text/plain"}),t=this.fileName;s.a.saveAs(e,t)}},computed:{},props:{title:String,mode:String,showDownload:Boolean},data:function(){return{show:!1,fileName:null,content:null,codeMirror:null}},beforeDestroy:function(){this.T.destoryCodeMirror(this.codeMirror)}},c=r,u=(n("1b85"),n("f7d2"),n("2877")),l=n("7b0b4"),d=n("7094"),f=n("308c"),p=Object(u["a"])(c,a,o,!1,null,"fc951d86",null);"function"===typeof l["default"]&&Object(l["default"])(p),"function"===typeof d["default"]&&Object(d["default"])(p),"function"===typeof f["default"]&&Object(f["default"])(p);t["a"]=p.exports},c3b8:function(e,t,n){},c59f:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"zh-TW":{"Download as a text file":"作為文字檔案下載"}}'),delete e.options._Ctor}},c885:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"zh-TW":{"API Auth deleted":"API認證已刪除","Are you sure you want to delete the API Auth?":"是否確認刪除此 API 認證？","Auth Type":"認證型別","Config":"配置","If you need to enhance security, you can create API Auth for Sync and Async APIs.":"如需要增強安全性，可以為同步、非同步建立 API 認證","No API Auth has ever been added":"從未新增過任何 API 認證","No config":"未配置","Sync and Async APIs can be accessed without authentication by default":"同步、非同步 API 在預設情況下不需要認證即可訪問","andMoreConfigs":"以及其他 {n} 專案配置","andMoreUsers":"以及其他 {n} 個使用者"}}'),delete e.options._Ctor}},dd91:function(e,t,n){"use strict";var a=n("985b"),o=n.n(a);t["default"]=o.a},e007:function(e,t,n){},e254:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"zh-HK":{"Download as a text file":"作為文本文件下載"}}'),delete e.options._Ctor}},e274:function(e,t,n){"use strict";var a=n("c885"),o=n.n(a);t["default"]=o.a},ed69:function(e,t,n){"use strict";var a=n("68b5"),o=n.n(a);t["default"]=o.a},f6be:function(e,t,n){"use strict";n("5928")},f7d2:function(e,t,n){"use strict";n("c3b8")}}]);