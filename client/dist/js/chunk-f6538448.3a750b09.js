(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f6538448"],{"06c5":function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));a("fb6a"),a("d3b7"),a("b0c0"),a("a630"),a("3ca3"),a("ac1f"),a("00b4");var n=a("6b75");function r(t,e){if(t){if("string"===typeof t)return Object(n["a"])(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(n["a"])(t,e):void 0}}},"3b3a":function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh-CN":{"Loading":"加载中","PIP Tool":"PIP工具","Mirror":"镜像源","Install Package":"安装包","Installed Packages":"已安装的包","Package":"包","Version":"版本","Built-in":"内置","Installed":"已安装","Exactly match":"完全匹配","Install":"安装","Installing":"正在安装","Package installed: {pkg}":"包已安装：{pkg}","[object Object]":"任意一个容器ID","You can also install the package by following command":"您也可以使用以下命令来安装","Previous installing may still running":"之前的安装似乎仍然在运行","Are you sure you want to install the package now?":"是否确定现在就安装？"}}'),delete t.options._Ctor}},"4df4":function(t,e,a){"use strict";var n=a("da84"),r=a("0366"),i=a("c65b"),s=a("7b0b"),o=a("9bdd"),l=a("e95a"),c=a("68ee"),u=a("07fa"),f=a("8418"),p=a("9a1f"),d=a("35a1"),h=n.Array;t.exports=function(t){var e=s(t),a=c(this),n=arguments.length,g=n>1?arguments[1]:void 0,v=void 0!==g;v&&(g=r(g,n>2?arguments[2]:void 0));var b,k,m,y,_,I,w=d(e),x=0;if(!w||this==h&&l(w))for(b=u(e),k=a?new this(b):h(b);b>x;x++)I=v?g(e[x],x):e[x],f(k,x,I);else for(y=p(e,w),_=y.next,k=a?new this:[];!(m=i(_,y)).done;x++)I=v?o(y,g,[m.value,x],!0):m.value,f(k,x,I);return k.length=x,k}},"54f8":function(t,e,a){},"6b75":function(t,e,a){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}a.d(e,"a",(function(){return n}))},"9bdd":function(t,e,a){var n=a("825a"),r=a("2a62");t.exports=function(t,e,a,i){try{return i?e(n(a)[0],a[1]):e(a)}catch(s){r(t,"throw",s)}}},a434:function(t,e,a){"use strict";var n=a("23e7"),r=a("da84"),i=a("23cb"),s=a("5926"),o=a("07fa"),l=a("7b0b"),c=a("65f0"),u=a("8418"),f=a("1dde"),p=f("splice"),d=r.TypeError,h=Math.max,g=Math.min,v=9007199254740991,b="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!p},{splice:function(t,e){var a,n,r,f,p,k,m=l(this),y=o(m),_=i(t,y),I=arguments.length;if(0===I?a=n=0:1===I?(a=0,n=y-_):(a=I-2,n=g(h(s(e),0),y-_)),y+a-n>v)throw d(b);for(r=c(m,n),f=0;f<n;f++)p=_+f,p in m&&u(r,f,m[p]);if(r.length=n,a<n){for(f=_;f<y-n;f++)p=f+n,k=f+a,p in m?m[k]=m[p]:delete m[k];for(f=y;f>y-n+a;f--)delete m[f-1]}else if(a>n)for(f=y-n;f>_;f--)p=f+n-1,k=f+a-1,p in m?m[k]=m[p]:delete m[k];for(f=0;f<a;f++)m[f+_]=arguments[f+2];return m.length=y-n+a,r}})},a630:function(t,e,a){var n=a("23e7"),r=a("4df4"),i=a("1c7e"),s=!i((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:s},{from:r})},c3bb:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade"}},[t.installedPackages.length<=0?a("h1",{staticClass:"loading"},[a("i",{staticClass:"fa fa-fw fa-circle-o-notch fa-spin"}),t._v("\n    "+t._s(t.$t("Loading"))+"\n  ")]):t._e(),t._v(" "),a("el-container",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.isLoaded,expression:"$store.state.isLoaded"}],attrs:{direction:"vertical"}},[a("el-header",{attrs:{height:"60px"}},[a("h1",[t._v(t._s(t.$t("PIP Tool")))])]),t._v(" "),a("el-main",[a("el-divider",{attrs:{"content-position":"left"}},[a("h1",[t._v(t._s(t.$t("Install Package")))])]),t._v(" "),a("el-select",{staticStyle:{width:"235px"},model:{value:t.pypiMirror,callback:function(e){t.pypiMirror=e},expression:"pypiMirror"}},t._l(t.C.PIP_MIRROR,(function(t){return a("el-option",{key:t.key,attrs:{label:t.name,value:t.value}})})),1),t._v(" "),a("el-input",{staticStyle:{width:"500px"},attrs:{placeholder:"package or package==1.0.0"},model:{value:t.packageToInstall,callback:function(e){t.packageToInstall=e},expression:"packageToInstall"}}),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:!t.isInstallable||t.isInstalling},on:{click:t.installPackage}},[t.isInstalling?a("span",[a("i",{staticClass:"fa fa-fw fa-circle-o-notch fa-spin"}),t._v("\n          "+t._s(t.$t("Installing"))+"\n        ")]):a("span",[t._v(t._s(t.$t("Install")))])]),t._v(" "),a("p",{staticClass:"pip-install-tips"},[t.pipShell?[t._v("\n          "+t._s(t.$t("You can also install the package by following command"))+t._s(t.$t(":"))+"\n          "),a("br"),t._v("\n          　\n          "),a("code",{staticClass:"text-main"},[t._v(t._s(t.pipShell))]),t._v(" "),a("CopyButton",{attrs:{content:t.pipShell}})]:t._e()],2),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[a("h1",[t._v(t._s(t.$t("Installed Packages")))])]),t._v(" "),a("el-table",{staticClass:"common-table",attrs:{data:t.installedPackages}},[a("el-table-column",{attrs:{label:t.$t("Package"),sortable:"","sort-by":"name"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("code",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("Version")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("code",[t._v(t._s(e.row.version))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("Built-in"),align:"center",sortable:"","sort-by":"isBuiltin",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isBuiltin?a("span",{staticClass:"text-good"},[t._v(t._s(t.$t("Yes")))]):t._e()]}}])})],1)],1)],1)],1)},r=[],i=(a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("06c5"));function s(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=Object(i["a"])(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,l=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){l=!0,s=t},f:function(){try{o||null==a["return"]||a["return"]()}finally{if(l)throw s}}}}var o=a("1da1"),l=(a("99af"),a("ac1f"),a("1276"),a("498a"),a("a434"),a("a15b"),a("96cf"),{name:"PIPTool",components:{},watch:{$route:{immediate:!0,handler:function(t,e){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.loadData();case 2:case"end":return t.stop()}}),t)})))()}}},methods:{loadData:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t=t||{},a.next=3,e.T.callAPI_get("/api/v1/python-packages/installed");case 3:if(n=a.sent,n.ok){a.next=6;break}return a.abrupt("return");case 6:e.installedPackages=n.data,t.isReload||(e.pypiMirror=e.C.PIP_MIRROR_DEFAULT.value),e.$store.commit("updateLoadStatus",!0);case 9:case"end":return a.stop()}}),a)})))()},installPackage:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,r,i,o,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.T.callAPI_get("/api/v1/python-packages/install-status");case 2:if(a=e.sent,a.ok){e.next=5;break}return e.abrupt("return");case 5:if(!a.data||"RUNNING"!==a.data.status){e.next=10;break}return e.next=8,t.T.confirm("".concat(t.$t("Previous installing may still running"),'\n              <hr class="br">').concat(t.$t("Are you sure you want to install the package now?")));case 8:if(e.sent){e.next=10;break}return e.abrupt("return");case 10:t.isInstalling=!0,n=t.packageToInstall.trim().split(/\s+/),r=t.T.jsonCopy(n),i=s(n),e.prev=14,i.s();case 16:if((o=i.n()).done){e.next=25;break}return l=o.value,e.next=20,t.T.callAPI("post","/api/v1/python-packages/install",{body:{mirror:t.pypiMirror,pkg:l},alert:{okMessage:t.$t("Package installed: {pkg}",{pkg:l})}});case 20:a=e.sent,a.ok&&r.splice(r.indexOf(l),1),t.packageToInstall=r.join(" ");case 23:e.next=16;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e["catch"](14),i.e(e.t0);case 30:return e.prev=30,i.f(),e.finish(30);case 33:t.isInstalling=!1,t.loadData({isReload:!0});case 35:case"end":return e.stop()}}),e,null,[[14,27,30,33]])})))()}},computed:{pipShell:function(){if(!this.isInstallable)return null;var t=this.$store.getters.CONFIG("_HOSTNAME")||this.$t("{Any container ID}"),e="-t ".concat(this.$store.getters.CONFIG("_PIP_INSTALL_DIR")),a=this.pypiMirror?"-i ".concat(this.pypiMirror):"",n="sudo docker exec ".concat(t," pip install ").concat(e," ").concat(a," ").concat(this.packageToInstall.trim());return n},isInstallable:function(){if(this.T.isNothing(this.packageToInstall))return!1;var t,e=s(this.packageToInstall.trim().split(/\s+/));try{for(e.s();!(t=e.n()).done;){var a=t.value,n=a.split("==");if(n.length>2)return!1;if(this.T.isNothing(n[0]))return!1;if(n.length>1&&this.T.isNothing(n[1]))return!1}}catch(r){e.e(r)}finally{e.f()}return!0}},props:{},data:function(){return{pypiMirror:"",packageToInstall:"",queriedPackageMap:{},installedPackages:[],isInstalling:!1}},mounted:function(){var t=this.$route.query.pkgs;t&&(this.packageToInstall=this.T.fromBase64(t))}}),c=l,u=(a("ceaa"),a("2877")),f=a("f47c"),p=Object(u["a"])(c,n,r,!1,null,"e9e6947a",null);"function"===typeof f["default"]&&Object(f["default"])(p);e["default"]=p.exports},ceaa:function(t,e,a){"use strict";a("54f8")},f47c:function(t,e,a){"use strict";var n=a("3b3a"),r=a.n(n);e["default"]=r.a}}]);