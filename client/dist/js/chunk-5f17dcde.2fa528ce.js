(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f17dcde"],{"06c5":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("fb6a"),n("d3b7"),n("b0c0"),n("a630"),n("3ca3");var a=n("6b75");function r(t,e){if(t){if("string"===typeof t)return Object(a["a"])(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(a["a"])(t,e):void 0}}},"1c7e":function(t,e,n){var a=n("b622"),r=a("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(l){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},t(a)}catch(l){}return n}},"35a1":function(t,e,n){var a=n("f5df"),r=n("3f8c"),i=n("b622"),o=i("iterator");t.exports=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||r[a(t)]}},"3b3a":function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh-CN":{"Loading":"加载中","PIP Tool":"PIP工具","Mirror":"镜像源","Install Package":"安装包","Installed Packages":"已安装的包","Package":"包","Version":"版本","Built-in":"内置","Installed":"已安装","Exactly match":"完全匹配","Install":"安装","Installing":"正在安装","Package installed: {pkg}":"包已安装：{pkg}","[object Object]":"任意一个容器ID","You can also install the package by following command":"您也可以使用以下命令来安装","Previous installing may still running":"之前的安装似乎仍然在运行","Are you sure you want to install the package now?":"是否确定现在就安装？","Douban mirror":"豆瓣镜像","Tsinghua University mirror":"清华大学镜像","USTC mirror":"中国科学技术大学镜像","Alibaba Cloud mirror":"阿里云镜像","Pypi Official":"Pypi官方原版"}}'),delete t.options._Ctor}},"4df4":function(t,e,n){"use strict";var a=n("f8c2"),r=n("7b0b"),i=n("9bdd"),o=n("e95a"),s=n("50c4"),l=n("8418"),c=n("35a1");t.exports=function(t){var e,n,u,p,f,d=r(t),h="function"==typeof this?this:Array,v=arguments.length,g=v>1?arguments[1]:void 0,b=void 0!==g,m=0,y=c(d);if(b&&(g=a(g,v>2?arguments[2]:void 0,2)),void 0==y||h==Array&&o(y))for(e=s(d.length),n=new h(e);e>m;m++)l(n,m,b?g(d[m],m):d[m]);else for(p=y.call(d),f=p.next,n=new h;!(u=f.call(p)).done;m++)l(n,m,b?i(p,g,[u.value,m],!0):u.value);return n.length=m,n}},6751:function(t,e,n){},"6b75":function(t,e,n){"use strict";function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}n.d(e,"a",(function(){return a}))},"9bdd":function(t,e,n){var a=n("825a");t.exports=function(t,e,n,r){try{return r?e(a(n)[0],n[1]):e(n)}catch(o){var i=t["return"];throw void 0!==i&&a(i.call(t)),o}}},"9c5d":function(t,e,n){"use strict";n("6751")},a434:function(t,e,n){"use strict";var a=n("23e7"),r=n("23cb"),i=n("a691"),o=n("50c4"),s=n("7b0b"),l=n("65f0"),c=n("8418"),u=n("1dde"),p=Math.max,f=Math.min,d=9007199254740991,h="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!u("splice")},{splice:function(t,e){var n,a,u,v,g,b,m=s(this),y=o(m.length),k=r(t,y),_=arguments.length;if(0===_?n=a=0:1===_?(n=0,a=y-k):(n=_-2,a=f(p(i(e),0),y-k)),y+n-a>d)throw TypeError(h);for(u=l(m,a),v=0;v<a;v++)g=k+v,g in m&&c(u,v,m[g]);if(u.length=a,n<a){for(v=k;v<y-a;v++)g=v+a,b=v+n,g in m?m[b]=m[g]:delete m[b];for(v=y;v>y-a+n;v--)delete m[v-1]}else if(n>a)for(v=y-a;v>k;v--)g=v+a-1,b=v+n-1,g in m?m[b]=m[g]:delete m[b];for(v=0;v<n;v++)m[v+k]=arguments[v+2];return m.length=y-a+n,u}})},a630:function(t,e,n){var a=n("23e7"),r=n("4df4"),i=n("1c7e"),o=!i((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:o},{from:r})},c3bb:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[t.installedPackages.length<=0?n("h1",{staticClass:"loading"},[n("i",{staticClass:"fa fa-fw fa-circle-o-notch fa-spin"}),t._v("\n    "+t._s(t.$t("Loading"))+"\n  ")]):t._e(),t._v(" "),t.$store.state.isLoaded?n("el-container",{attrs:{direction:"vertical"}},[n("el-header",{attrs:{height:"60px"}},[n("h1",[t._v(t._s(t.$t("PIP Tool")))])]),t._v(" "),n("el-main",[n("el-divider",{attrs:{"content-position":"left"}},[n("h1",[t._v(t._s(t.$t("Install Package")))])]),t._v(" "),n("el-select",{staticStyle:{width:"235px"},model:{value:t.pypiMirror,callback:function(e){t.pypiMirror=e},expression:"pypiMirror"}},t._l(t.PIP_MIRRORS,(function(t){return n("el-option",{key:t.key,attrs:{label:t.name,value:t.value}})})),1),t._v(" "),n("el-input",{staticStyle:{width:"500px"},attrs:{placeholder:"package or package==1.0.0"},model:{value:t.packageToInstall,callback:function(e){t.packageToInstall=e},expression:"packageToInstall"}}),t._v(" "),n("el-button",{attrs:{type:"primary",disabled:!t.isInstallable||t.isInstalling},on:{click:t.installPackage}},[t.isInstalling?n("span",[n("i",{staticClass:"fa fa-fw fa-circle-o-notch fa-spin"}),t._v("\n          "+t._s(t.$t("Installing"))+"\n        ")]):n("span",[t._v(t._s(t.$t("Install")))])]),t._v(" "),n("p",{staticClass:"pip-install-tips"},[t.pipShell?[t._v("\n          "+t._s(t.$t("You can also install the package by following command"))+t._s(t.$t(":"))+"\n          "),n("br"),t._v("\n          　\n          "),n("code",{staticClass:"text-main"},[t._v(t._s(t.pipShell))]),t._v(" "),n("CopyButton",{attrs:{content:t.pipShell}})]:t._e()],2),t._v(" "),n("el-divider",{attrs:{"content-position":"left"}},[n("h1",[t._v(t._s(t.$t("Installed Packages")))])]),t._v(" "),n("el-table",{staticClass:"common-table",attrs:{data:t.installedPackages}},[n("el-table-column",{attrs:{label:t.$t("Package"),sortable:"","sort-by":"name"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("code",[t._v(t._s(e.row.name))])]}}],null,!1,370914816)}),t._v(" "),n("el-table-column",{attrs:{label:t.$t("Version")},scopedSlots:t._u([{key:"default",fn:function(e){return[n("code",[t._v(t._s(e.row.version))])]}}],null,!1,2406261309)}),t._v(" "),n("el-table-column",{attrs:{label:t.$t("Built-in"),align:"center",sortable:"","sort-by":"isBuiltin",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isBuiltin?n("span",{staticClass:"text-good"},[t._v(t._s(t.$t("Yes")))]):t._e()]}}],null,!1,4156707113)})],1)],1)],1):t._e()],1)},r=[],i=(n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("06c5"));function o(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Object(i["a"])(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,o=t},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(l)throw o}}}}var s=n("1da1"),l=(n("99af"),n("ac1f"),n("1276"),n("498a"),n("a434"),n("a15b"),n("96cf"),{name:"PIPTool",components:{},watch:{$route:{immediate:!0,handler:function(t,e){var n=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.loadData();case 2:case"end":return t.stop()}}),t)})))()}}},methods:{loadData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.T.callAPI_get("/api/v1/python-packages/installed");case 2:if(n=e.sent,n.ok){e.next=5;break}return e.abrupt("return");case 5:t.installedPackages=n.data,t.pypiMirror=t.PIP_MIRRORS[0].value,t.$store.commit("updateLoadStatus",!0);case 8:case"end":return e.stop()}}),e)})))()},installPackage:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,a,r,i,s,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.T.callAPI_get("/api/v1/python-packages/install-status");case 2:if(n=e.sent,n.ok){e.next=5;break}return e.abrupt("return");case 5:if(!n.data||"RUNNING"!==n.data.status){e.next=10;break}return e.next=8,t.T.confirm("".concat(t.$t("Previous installing may still running"),'\n              <hr class="br">').concat(t.$t("Are you sure you want to install the package now?")));case 8:if(e.sent){e.next=10;break}return e.abrupt("return");case 10:t.isInstalling=!0,a=t.packageToInstall.trim().split(/\s+/),r=t.T.jsonCopy(a),i=o(a),e.prev=14,i.s();case 16:if((s=i.n()).done){e.next=25;break}return l=s.value,e.next=20,t.T.callAPI("post","/api/v1/python-packages/install",{body:{mirror:t.pypiMirror,pkg:l},alert:{okMessage:t.$t("Package installed: {pkg}",{pkg:l})}});case 20:n=e.sent,n.ok&&r.splice(r.indexOf(l),1),t.packageToInstall=r.join(" ");case 23:e.next=16;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e["catch"](14),i.e(e.t0);case 30:return e.prev=30,i.f(),e.finish(30);case 33:t.isInstalling=!1,t.loadData();case 35:case"end":return e.stop()}}),e,null,[[14,27,30,33]])})))()}},computed:{PIP_MIRRORS:function(){return[{name:this.$t("Alibaba Cloud mirror"),value:"https://mirrors.aliyun.com/pypi/simple/"},{name:this.$t("Douban mirror"),value:"https://pypi.douban.com/simple/"},{name:this.$t("Tsinghua University mirror"),value:"https://pypi.tuna.tsinghua.edu.cn/simple/"},{name:this.$t("USTC mirror"),value:"https://pypi.mirrors.ustc.edu.cn/simple/"},{name:this.$t("Pypi Official"),value:""}]},pipShell:function(){if(!this.isInstallable)return null;var t=this.$store.getters.CONFIG("_HOSTNAME")||this.$t("{Any container ID}"),e="-t ".concat(this.$store.getters.CONFIG("_PIP_INSTALL_DIR")),n=this.pypiMirror?"-i ".concat(this.pypiMirror):"",a="sudo docker exec ".concat(t," pip install ").concat(e," ").concat(n," ").concat(this.packageToInstall.trim());return a},isInstallable:function(){if(this.T.isNothing(this.packageToInstall))return!1;var t,e=o(this.packageToInstall.trim().split(/\s+/));try{for(e.s();!(t=e.n()).done;){var n=t.value,a=n.split("==");if(a.length>2)return!1;if(this.T.isNothing(a[0]))return!1;if(a.length>1&&this.T.isNothing(a[1]))return!1}}catch(r){e.e(r)}finally{e.f()}return!0}},props:{},data:function(){return{pypiMirror:"",packageToInstall:"",queriedPackageMap:{},installedPackages:[],isInstalling:!1}},mounted:function(){var t=this.$route.query.pkgs;t&&(this.packageToInstall=this.T.fromBase64(t))}}),c=l,u=(n("9c5d"),n("2877")),p=n("f47c"),f=Object(u["a"])(c,a,r,!1,null,"3818214b",null);"function"===typeof p["default"]&&Object(p["default"])(f);e["default"]=f.exports},e95a:function(t,e,n){var a=n("b622"),r=n("3f8c"),i=a("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},f47c:function(t,e,n){"use strict";var a=n("3b3a"),r=n.n(a);e["default"]=r.a}}]);