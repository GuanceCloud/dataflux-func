(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5683f11c"],{"7c45":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[t.$store.state.isLoaded?n("el-container",{attrs:{direction:"vertical"}},[n("el-header",{attrs:{height:"60px"}},[n("h1",[t._v("\n        "+t._s(t.$t("System Logs"))+"\n        "),n("div",{staticClass:"header-control"},[n("div",{staticClass:"log-filter-input"},[n("el-input",{attrs:{placeholder:t.$t("Input filter content"),size:"small"},model:{value:t.logFilter,callback:function(e){t.logFilter=e},expression:"logFilter"}},[t.logFilter?n("i",{staticClass:"el-input__icon el-icon-close text-main",attrs:{slot:"prefix"},on:{click:function(e){t.logFilter=""}},slot:"prefix"}):t._e()])],1)])])]),t._v(" "),n("el-main",{staticClass:"common-table-container"},[t.T.isNothing(t.filteredData)?t._e():n("el-table",{staticClass:"common-table",attrs:{height:"100%",size:"mini","show-header":!1,data:t.filteredData}},[n("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[n("pre",{staticClass:"log-line",class:t.logClass(e.row)},[t._v(t._s(e.row))])]}}],null,!1,1558803519)})],1)],1)],1):t._e()],1)},r=[],i=n("1da1"),o=(n("99af"),n("fb6a"),n("2ca0"),n("4de4"),n("d3b7"),n("96cf"),{name:"SystemLogs",components:{},watch:{$route:{immediate:!0,handler:function(t,e){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.loadData();case 2:case"end":return t.stop()}}),t)})))()}}},methods:{loadData:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t=t||{},a={},a[e.$store.getters.CONFIG("_WEB_TRACE_ID_HEADER")]=e.$store.getters.CONFIG("_WEB_PULL_LOG_TRACE_ID"),n.next=5,e.T.callAPI_get("/api/v1/system-logs",{headers:a,query:{position:e.nextPosition}});case 5:if(r=n.sent,r.ok){n.next=8;break}return n.abrupt("return");case 8:t.append?e.data=e.data.concat(r.data.logs):e.data=r.data.logs,e.data=e.data.slice(-5e3),e.nextPosition=r.data.nextPosition,e.$store.commit("updateLoadStatus",!0);case 12:case"end":return n.stop()}}),n)})))()},logClass:function(t){return this.T.startsWith(t,"[D]")?"log-debug":this.T.startsWith(t,"[I]")?"log-info":this.T.startsWith(t,"[W]")?"log-warning":this.T.startsWith(t,"[E]")?"log-error":""}},computed:{filteredData:function(){var t=this;return this.logFilter?this.data.filter((function(e){return e.toLowerCase().indexOf(t.logFilter.toLowerCase())>=0})):this.data}},props:{},data:function(){return{data:[],logFilter:"",nextPosition:null,autoRefreshTimer:null}},mounted:function(){var t=this;this.autoRefreshTimer=setInterval((function(){t.loadData({append:!0})}),5e3)},beforeDestroy:function(){this.autoRefreshTimer&&clearInterval(this.autoRefreshTimer)}}),s=o,l=(n("db20"),n("2877")),c=n("ce39"),u=Object(l["a"])(s,a,r,!1,null,"73e6bfd1",null);"function"===typeof c["default"]&&Object(c["default"])(u);e["default"]=u.exports},ce39:function(t,e,n){"use strict";var a=n("fb09"),r=n.n(a);e["default"]=r.a},db20:function(t,e,n){"use strict";n("f5d6")},f5d6:function(t,e,n){},fb09:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh-CN":{"Input filter content":"输入过滤内容"}}'),delete t.options._Ctor}}}]);