(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58523f32"],{"0249":function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"FoundScriptSetCount":"Scrpt Set not Found | Found {n} Script Set | Found {n} Script Sets","ScriptCount":"No Script included | Includes {n} Script | Includes {n} Scripts"}}'),delete t.options._Ctor}},"0312":function(t,e,r){"use strict";var i=r("abbe"),a=r.n(i);e["default"]=a.a},"0a76":function(t,e,r){},1692:function(t,e,r){t.exports=r.p+"img/notice-script-market-homepage.d184b272.png"},"174c":function(t,e,r){"use strict";r("d57b")},"23c0":function(t,e,r){"use strict";var i=r("6921"),a=r.n(i);e["default"]=a.a},2936:function(t,e,r){"use strict";var i=r("933a"),a=r.n(i);e["default"]=a.a},"3eac":function(t,e,r){"use strict";var i=r("0249"),a=r.n(i);e["default"]=a.a},"4d91":function(t,e,r){"use strict";r("9c55")},5252:function(t,e,r){"use strict";r("6178")},"576e5":function(t,e,r){t.exports=r.p+"img/notice-todo-list.80ce42b4.png"},"5a45":function(t,e,r){"use strict";r("a4d3"),r("e01a");var i=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{id:"FeatureNotice",visible:t.show&&!t.disabled,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"850px"}},[e("div",{staticClass:"notice-feature-container"},[e("el-image",{attrs:{src:t.image}}),t._v(" "),e("el-card",{staticClass:"notice-feature-content"},[e("i",{staticClass:"fa fa-fw notice-feature-icon",class:t.icon}),t._v(" "),e("p",{domProps:{innerHTML:t._s(t.description)}})]),t._v(" "),e("div",{staticClass:"notice-feature-buttons"},[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.close(!0)}}},[t._v(t._s(t.$t("Don't prompt again")))]),t._v(" "),e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.close()}}},[t._v(t._s(t.$t("OK")))])],1)],1)])},a=[],n=r("a92d"),o=r.n(n),s={name:"FeatureNoticeDialog",components:{},watch:{},methods:{close:function(t){this.show=!1,this.$store.commit("dismissFeatureNotice",this.featureKey),t&&this.$store.commit("disableFeatureNotice",this.featureKey)}},computed:{},props:{featureKey:String,description:String,icon:{type:String,default:"fa-lightbulb-o"},image:{type:Object,default:o.a},disabled:{type:Boolean,default:!1}},data:function(){return{show:!1}},mounted:function(){var t=this;setTimeout((function(){t.$store.getters.showFeatureNotice(t.featureKey)&&(t.show=!0)}),500)}},l=s,c=(r("9e94"),r("4d91"),r("2877")),p=r("928e"),u=r("6bc8"),d=r("a49b"),f=Object(c["a"])(l,i,a,!1,null,"cb70d276",null);"function"===typeof p["default"]&&Object(p["default"])(f),"function"===typeof u["default"]&&Object(u["default"])(f),"function"===typeof d["default"]&&Object(d["default"])(f);e["a"]=f.exports},"5b81":function(t,e,r){"use strict";var i=r("23e7"),a=r("c65b"),n=r("e330"),o=r("1d80"),s=r("1626"),l=r("44e7"),c=r("577e"),p=r("dc4a"),u=r("90d8"),d=r("0cb2"),f=r("b622"),h=r("c430"),m=f("replace"),S=TypeError,b=n("".indexOf),_=n("".replace),g=n("".slice),y=Math.max,k=function(t,e,r){return r>t.length?-1:""===e?r:b(t,e,r)};i({target:"String",proto:!0},{replaceAll:function(t,e){var r,i,n,f,v,x,w,T,M,C=o(this),$=0,I=0,F="";if(null!=t){if(r=l(t),r&&(i=c(o(u(t))),!~b(i,"g")))throw S("`.replaceAll` does not allow non-global regexes");if(n=p(t,m),n)return a(n,t,C,e);if(h&&r)return _(c(C),t,e)}f=c(C),v=c(t),x=s(e),x||(e=c(e)),w=v.length,T=y(1,w),$=k(f,v,0);while(-1!==$)M=x?c(e(v,$,f)):d(v,f,$,[],void 0,e),F+=g(f,I,$)+M,I=$+w,$=k(f,v,$+T);return I<f.length&&(F+=g(f,I)),F}})},6178:function(t,e,r){},6921:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh-TW":{"1. Remove the local Script Set and install from the Script Market":"1. 刪除本地指令碼集後再從指令碼市場安裝","2. Enable the Force Mode and reinstall the Script Set":"2. 開啟強制模式並重新安裝指令碼集","Add translation for":"新增翻譯","Are you sure you want to delete the Script Set from the Script Market?":"是否確認從指令碼市場刪除此指令碼集？","Are you sure you want to install the Script Set?":"是否確認安裝此指令碼集？","Are you sure you want to publish the Script Set to the Script Market?":"是否確認釋出指令碼集到此指令碼市場？","Are you sure you want to reinstall the Script Set?":"是否確認重新安裝此指令碼集？","Are you sure you want to remove the Translation?":"是否確認移除此翻譯？","Are you sure you want to upgrade the Script Set?":"是否確認升級此指令碼集？","Cron Job is deployed":"定時任務已部署","Cron Job is not deployed yet":"定時任務尚未部署","Delete Script Set":"刪除指令碼集","Deploy Cron Job":"部署定時任務","Deploy Startup Script":"部署啟動指令碼","Edited":"已修改","Exactly Match":"完全匹配","Extra Config":"額外配置","Force Install":"強制安裝","Force Mode":"強制模式","FoundScriptSetCount":"找不到指令碼集 | 共找到 {n} 個指令碼集 | 共找到 {n} 個指令碼集","Go to PIP Tool":"前往 PIP 工具","Go to Startup Script":"前往啟動指令碼","Go to the Cron Job":"前往定時任務","Homepage":"前往主頁","Homepage URL":"主頁 URL","Install Script Set":"安裝指令碼集","Local":"本地","Locked By Me":"由我鎖定","No Corresponding Script Set":"無對應指令碼集","No Script Set has ever been published":"尚未釋出過任何指令碼集到指令碼市場","Not Installed":"尚未安裝","Not Published":"尚未釋出","Please input note":"請輸入釋出說明","Processing...":"正在處理...","Publish Note":"釋出說明","Publish Script Set":"釋出指令碼集","Publisher":"釋出者","Reinstall Script Set":"重新安裝指令碼集","Remote":"遠端","Requirements":"依賴項","Script Market saved":"指令碼市場已儲存","Script Set Installed Successfully!":"成功安裝指令碼集！","Script Set deleted from the Script Market":"指令碼集已從指令碼市場刪除","Script Set installed, new Script Set is in effect immediately":"指令碼集已安裝，新指令碼集立即生效","Script Set published to the Script Market":"指令碼集已釋出至指令碼市場","Script Set reinstalled, new Script Set is in effect immediately":"指令碼集已重新安裝，新指令碼集立即生效","Script Set upgraded, new Script Set is in effect immediately":"指令碼集已升級，新指令碼集立即生效","ScriptCount":"不包含任何指令碼 | 包含 {n} 個指令碼 | 包含 {n} 個指令碼","Should start with http:// or https://":"必須以 http:// 或 https://開頭","Source Text":"源文字","Startup Script is deployed":"啟動指令碼已部署","Stay Here":"留在本頁","The published Script Set will be shown here, you can find and install the ones you need":"釋出後的指令碼集將在此展示，可以查詢並安裝需要的指令碼集","This Script Market is locked by other user ({user})":"當前指令碼市場已被其他使用者（{user}）鎖定","This Script Market is locked by you":"當前指令碼市場已被您鎖定","This Script Set includes an example which can be used for deploying Startup Script":"本指令碼集包含示例，可部署為啟動指令碼","This Script Set includes an example which can be used for deploying Startup Script with following configs: ":"本指令碼集包含示例，可部署為啟動指令碼，幷包含以下配置專案：","This Script Set is edited locally, you can:":"此指令碼集已在本地被修改，您可以：","This Script Set is not from current Script Market, you can:":"此指令碼集並非來自【當前】指令碼市場，您可以：","This Script Set requires 3rd party Python packages":"本指令碼集依賴第三方 Python 包","Translated Text":"譯文","Translations":"翻譯","Upgrade Script Set":"升級指令碼集"}}'),delete t.options._Ctor}},"6bc8":function(t,e,r){"use strict";var i=r("df4b"),a=r.n(i);e["default"]=a.a},"928e":function(t,e,r){"use strict";var i=r("a5bc"),a=r.n(i);e["default"]=a.a},"933a":function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh-HK":{"1. Remove the local Script Set and install from the Script Market":"1. 刪除本地腳本集後再從腳本市場安裝","2. Enable the Force Mode and reinstall the Script Set":"2. 開啓強制模式並重新安裝腳本集","Add translation for":"添加翻譯","Are you sure you want to delete the Script Set from the Script Market?":"是否確認從腳本市場刪除此腳本集？","Are you sure you want to install the Script Set?":"是否確認安裝此腳本集？","Are you sure you want to publish the Script Set to the Script Market?":"是否確認發佈腳本集到此腳本市場？","Are you sure you want to reinstall the Script Set?":"是否確認重新安裝此腳本集？","Are you sure you want to remove the Translation?":"是否確認移除此翻譯？","Are you sure you want to upgrade the Script Set?":"是否確認升級此腳本集？","Cron Job is deployed":"定時任務已部署","Cron Job is not deployed yet":"定時任務尚未部署","Delete Script Set":"刪除腳本集","Deploy Cron Job":"部署定時任務","Deploy Startup Script":"部署啓動腳本","Edited":"已修改","Exactly Match":"完全匹配","Extra Config":"額外配置","Force Install":"強制安裝","Force Mode":"強制模式","FoundScriptSetCount":"找不到腳本集 | 共找到 {n} 個腳本集 | 共找到 {n} 個腳本集","Go to PIP Tool":"前往 PIP 工具","Go to Startup Script":"前往啓動腳本","Go to the Cron Job":"前往定時任務","Homepage":"前往主頁","Homepage URL":"主頁 URL","Install Script Set":"安裝腳本集","Local":"本地","Locked By Me":"由我鎖定","No Corresponding Script Set":"無對應腳本集","No Script Set has ever been published":"尚未發佈過任何腳本集到腳本市場","Not Installed":"尚未安裝","Not Published":"尚未發佈","Please input note":"請輸入發佈説明","Processing...":"正在處理...","Publish Note":"發佈説明","Publish Script Set":"發佈腳本集","Publisher":"發佈者","Reinstall Script Set":"重新安裝腳本集","Remote":"遠端","Requirements":"依賴項","Script Market saved":"腳本市場已保存","Script Set Installed Successfully!":"成功安裝腳本集！","Script Set deleted from the Script Market":"腳本集已從腳本市場刪除","Script Set installed, new Script Set is in effect immediately":"腳本集已安裝，新腳本集立即生效","Script Set published to the Script Market":"腳本集已發佈至腳本市場","Script Set reinstalled, new Script Set is in effect immediately":"腳本集已重新安裝，新腳本集立即生效","Script Set upgraded, new Script Set is in effect immediately":"腳本集已升級，新腳本集立即生效","ScriptCount":"不包含任何腳本 | 包含 {n} 個腳本 | 包含 {n} 個腳本","Should start with http:// or https://":"必須以 http:// 或 https://開頭","Source Text":"源文本","Startup Script is deployed":"啓動腳本已部署","Stay Here":"留在本頁","The published Script Set will be shown here, you can find and install the ones you need":"發佈後的腳本集將在此展示，可以查找並安裝需要的腳本集","This Script Market is locked by other user ({user})":"當前腳本市場已被其他用户（{user}）鎖定","This Script Market is locked by you":"當前腳本市場已被您鎖定","This Script Set includes an example which can be used for deploying Startup Script":"本腳本集包含示例，可部署為啓動腳本","This Script Set includes an example which can be used for deploying Startup Script with following configs: ":"本腳本集包含示例，可部署為啓動腳本，幷包含以下配置項目：","This Script Set is edited locally, you can:":"此腳本集已在本地被修改，您可以：","This Script Set is not from current Script Market, you can:":"此腳本集並非來自【當前】腳本市場，您可以：","This Script Set requires 3rd party Python packages":"本腳本集依賴第三方 Python 包","Translated Text":"譯文","Translations":"翻譯","Upgrade Script Set":"升級腳本集"}}'),delete t.options._Ctor}},"9c55":function(t,e,r){},"9e94":function(t,e,r){"use strict";r("0a76")},a49b:function(t,e,r){"use strict";var i=r("d866"),a=r.n(i);e["default"]=a.a},a5bc:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh-CN":{"Don\'t prompt again":"不再提示"}}'),delete t.options._Ctor}},a92d:function(t,e,r){t.exports=r.p+"img/notice-feature.a3847dd5.png"},abbe:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh-CN":{"Publish Script Set":"发布脚本集","Delete Script Set":"删除脚本集","Install Script Set":"安装脚本集","Reinstall Script Set":"重新安装脚本集","Upgrade Script Set":"升级脚本集","Exactly Match":"完全匹配","Local":"本地","Remote":"远端","Requirements":"依赖项","Publisher":"发布者","Not Published":"尚未发布","Not Installed":"尚未安装","No Corresponding Script Set":"无对应脚本集","Edited":"已修改","Publish Note":"发布说明","Force Mode":"强制模式","Force Install":"强制安装","This Script Set is not from current Script Market, you can:":"此脚本集并非来自【当前】脚本市场，您可以：","This Script Set is edited locally, you can:":"此脚本集已在本地被修改，您可以：","1. Remove the local Script Set and install from the Script Market":"1. 删除本地脚本集后再从脚本市场安装","2. Enable the Force Mode and reinstall the Script Set":"2. 开启强制模式并重新安装脚本集","Please input note":"请输入发布说明","Are you sure you want to publish the Script Set to the Script Market?":"是否确认发布脚本集到此脚本市场？","Are you sure you want to delete the Script Set from the Script Market?":"是否确认从脚本市场删除此脚本集？","Are you sure you want to install the Script Set?":"是否确认安装此脚本集？","Are you sure you want to reinstall the Script Set?":"是否确认重新安装此脚本集？","Are you sure you want to upgrade the Script Set?":"是否确认升级此脚本集？","Are you sure you want to remove the Translation?":"是否确认移除此翻译？","This Script Market is locked by you":"当前脚本市场已被您锁定","This Script Market is locked by other user ({user})":"当前脚本市场已被其他用户（{user}）锁定","Script Set published to the Script Market":"脚本集已发布至脚本市场","Script Set deleted from the Script Market":"脚本集已从脚本市场删除","Script Set installed, new Script Set is in effect immediately":"脚本集已安装，新脚本集立即生效","Script Set reinstalled, new Script Set is in effect immediately":"脚本集已重新安装，新脚本集立即生效","Script Set upgraded, new Script Set is in effect immediately":"脚本集已升级，新脚本集立即生效","Script Market saved":"脚本市场已保存","No Script Set has ever been published":"尚未发布过任何脚本集到脚本市场","FoundScriptSetCount":"找不到脚本集 | 共找到 {n} 个脚本集 | 共找到 {n} 个脚本集","ScriptCount":"不包含任何脚本 | 包含 {n} 个脚本 | 包含 {n} 个脚本","Locked By Me":"由我锁定","Homepage":"前往主页","Stay Here":"留在本页","Processing...":"正在处理...","Script Set Installed Successfully!":"成功安装脚本集！","This Script Set requires 3rd party Python packages":"本脚本集依赖第三方 Python 包","Go to PIP Tool":"前往 PIP 工具","This Script Set includes an example which can be used for deploying Startup Script":"本脚本集包含示例，可部署为启动脚本","This Script Set includes an example which can be used for deploying Startup Script with following configs: ":"本脚本集包含示例，可部署为启动脚本，并包含以下配置项目：","Deploy Startup Script":"部署启动脚本","Deploy Cron Job":"部署定时任务","Startup Script is deployed":"启动脚本已部署","Cron Job is deployed":"定时任务已部署","Cron Job is not deployed yet":"定时任务尚未部署","Go to Startup Script":"前往启动脚本","Go to the Cron Job":"前往定时任务","The published Script Set will be shown here, you can find and install the ones you need":"发布后的脚本集将在此展示，可以查找并安装需要的脚本集","Extra Config":"额外配置","Homepage URL":"主页 URL","Translations":"翻译","Add translation for":"添加翻译","Source Text":"源文本","Translated Text":"译文","Should start with http:// or https://":"必须以 http:// 或 https://开头"}}'),delete t.options._Ctor}},d57b:function(t,e,r){},d74c:function(t,e,r){"use strict";r.r(e);r("a4d3"),r("e01a"),r("99af"),r("b0c0");var i=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"fade"}},[t.$store.state.isLoaded?t._e():e("PageLoading"),t._v(" "),e("el-container",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.isLoaded,expression:"$store.state.isLoaded"}],attrs:{direction:"vertical"}},[e("el-header",{attrs:{height:"60px"}},[e("div",{staticClass:"common-page-header"},[e("div",[e("h1",[t._v(t._s(t.$t("Script Market")))]),t._v("\n          　\n          "),t.scriptMarket.isOfficial?e("span",{staticClass:"text-main"},[e("i",{staticClass:"fa fa-fw fa-star text-watch"}),t._v(" "+t._s(t.$t("Official Script Market")))]):e("span",{staticClass:"text-main"},[t._v(t._s(t.common.getScriptMarketTitle(t.scriptMarket)))])]),t._v(" "),t.T.notNothing(t.data)?e("div",{staticClass:"header-control"},[t.homepageURL||"git"===t.scriptMarket.type?[e("el-link",{attrs:{href:t.homepageURL||t.scriptMarket.configJSON.url,target:"_blank"}},[e("i",{staticClass:"fa fa-fw fa-external-link"}),t._v("\n              "+t._s(t.$t("Homepage"))+"\n            ")]),t._v("\n            　\n          ")]:t._e(),t._v(" "),e("span",{staticClass:"text-main"},[t._v(t._s(t.$tc("FoundScriptSetCount",t.filteredData.length)))]),t._v("\n\n          　\n          "),t.scriptMarket.isAdmin?e("el-checkbox",{attrs:{border:!0,size:"small"},model:{value:t.filterLockedByMe,callback:function(e){t.filterLockedByMe=e},expression:"filterLockedByMe"}},[t._v(t._s(t.$t("Locked By Me")))]):t._e(),t._v(" "),e("el-input",{staticClass:"filter-input",attrs:{placeholder:t.$t("Filter"),size:"small"},on:{input:t.onFilterChange},model:{value:t.filterInput,callback:function(e){t.filterInput=e},expression:"filterInput"}},[t.filterInput?e("i",{staticClass:"el-input__icon el-icon-close text-main",attrs:{slot:"prefix"},on:{click:function(e){t.filterInput="",t.onFilterChange()}},slot:"prefix"}):t._e()]),t._v(" "),t.scriptMarket.isAdmin?e("el-tooltip",{attrs:{content:t.$t("Extra Config"),placement:"bottom",enterable:!1}},[e("el-button",{attrs:{plain:"",size:"small"},on:{click:t.openExtraDialog}},[e("i",{staticClass:"fa fa-fw fa-cog"})])],1):t._e()],2):t._e()])]),t._v(" "),t.isLockedByMe||t.isLockedByOther?e("div",{staticStyle:{padding:"0 30px"}},[t.isLockedByMe?e("InfoBlock",{attrs:{type:"success",title:t.$t("This Script Market is locked by you")}}):t.isLockedByOther?e("InfoBlock",{attrs:{type:t.isAccessible?"warning":"error",title:t.$t("This Script Market is locked by other user ({user})",{user:t.lockedByUser})}}):t._e()],1):t._e(),t._v(" "),e("el-main",{staticClass:"common-table-container"},[t.T.isNothing(t.filteredData)?e("div",{staticClass:"no-data-area"},[t.T.notNothing(t.filterTEXT||t.filterLockedByMe)?e("h1",{staticClass:"no-data-title"},[e("i",{staticClass:"fa fa-fw fa-search"}),t._v(t._s(t.$t("No matched data found")))]):e("h1",{staticClass:"no-data-title"},[e("i",{staticClass:"fa fa-fw fa-info-circle"}),t._v(t._s(t.$t("No Script Set has ever been published")))]),t._v(" "),e("p",{staticClass:"no-data-tip"},[t._v("\n          "+t._s(t.$t("The published Script Set will be shown here, you can find and install the ones you need"))+"\n        ")])]):e("el-table",{staticClass:"common-table",attrs:{height:"100%",data:t.filteredData,"row-class-name":t.T.getHighlightRowCSS}},[t.hasLocalMarker?e("el-table-column",{attrs:{width:"100",align:"right"},scopedSlots:t._u([{key:"default",fn:function(r){return[r.row.isLocalEdited?e("el-tag",{attrs:{effect:"dark",type:"danger",size:"mini"}},[t._v("\n              "+t._s(t.$t("Edited"))+"\n            ")]):t._e()]}}],null,!1,3652792743)}):t._e(),t._v(" "),e("el-table-column",{scopedSlots:t._u([{key:"header",fn:function(r){return[e("i",{staticClass:"fa fa-fw fa-home"}),t._v("\n            "+t._s(t.$t("Local"))+"\n          ")]}},{key:"default",fn:function(r){return[r.row.local?[e("strong",{staticClass:"script-set-name"},[t._v(t._s(t.getTranslation(r.row.local.title)||r.row.local.id))]),t._v("\n              　\n              "),t.filterInput&&t.getTranslation(r.row.local.title)===t.filterInput?e("el-tag",{attrs:{type:"primary",size:"mini",effect:"dark"}},[t._v(t._s(t.$t("Exactly Match")))]):t._e(),t._v(" "),e("div",[e("span",{staticClass:"text-info"},[t._v("ID")]),t._v("\n                 "),e("code",{staticClass:"text-main"},[t._v(t._s(r.row.local.id))]),t._v(" "),e("CopyButton",{attrs:{content:r.row.local.id}}),t._v("\n                　\n                "),t.filterInput&&r.row.local.id===t.filterInput?e("el-tag",{attrs:{type:"primary",size:"mini",effect:"dark"}},[t._v(t._s(t.$t("Exactly Match")))]):t._e(),t._v(" "),e("br"),t._v("\n                　"+t._s(t.$tc("ScriptCount",(r.row.local.scripts||[]).length))+"\n              ")],1)]:[t.scriptMarket.isAdmin?[e("i",{staticClass:"text-info"},[t._v(t._s(t.$t("No Corresponding Script Set")))])]:[e("i",{staticClass:"text-info"},[t._v(t._s(t.$t("Not Installed")))])]]]}}])}),t._v(" "),e("el-table-column",{attrs:{width:"120",align:"center","class-name":"arrow-icon-cell"},scopedSlots:t._u([{key:"default",fn:function(r){return[t.scriptMarket.isAdmin||!r.row.local||r.row.isScriptMarketMatched?!t.scriptMarket.isAdmin&&r.row.isLocalEdited?e("el-tooltip",{attrs:{effect:"dark",placement:"top",enterable:!1}},[e("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n                "+t._s(t.$t("This Script Set is edited locally, you can:"))+"\n                "),e("br"),t._v(t._s(t.$t("1. Remove the local Script Set and install from the Script Market"))+"\n                "),e("br"),t._v(t._s(t.$t("2. Enable the Force Mode and reinstall the Script Set"))+"\n              ")]),t._v(" "),e("i",{staticClass:"fa fa-fw fa-exclamation fa-3x text-bad arrow-icon-cover"})]):t._e():e("el-tooltip",{attrs:{effect:"dark",placement:"top",enterable:!1}},[e("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n                "+t._s(t.$t("This Script Set is not from current Script Market, you can:"))+"\n                "),e("br"),t._v(t._s(t.$t("1. Remove the local Script Set and install from the Script Market"))+"\n                "),e("br"),t._v(t._s(t.$t("2. Enable the Force Mode and reinstall the Script Set"))+"\n              ")]),t._v(" "),e("i",{staticClass:"fa fa-fw fa-exclamation fa-3x text-bad arrow-icon-cover"})]),t._v(" "),t.scriptMarket.isAdmin&&r.row.local?e("span",{class:r.row.isIdMatched?"text-main":"text-info"},t._l([.3,.5,1],(function(t){return e("i",{staticClass:"fa fa-angle-right fa-2x",style:{opacity:t}})})),0):!t.scriptMarket.isAdmin&&r.row.remote?e("span",{class:r.row.isIdMatched?"text-main":"text-info"},t._l([1,.5,.3],(function(t){return e("i",{staticClass:"fa fa-angle-left fa-2x",style:{opacity:t}})})),0):t._e()]}}])}),t._v(" "),t.hasRemoteMarker?e("el-table-column",{attrs:{width:"100",align:"right"},scopedSlots:t._u([{key:"default",fn:function(r){return[r.row.isRemoteUpdated?e("el-tag",{attrs:{effect:"dark",type:"danger",size:"mini"}},[t._v("\n              "+t._s(t.$t("New Version"))+"\n            ")]):t._e()]}}],null,!1,3476336221)}):t._e(),t._v(" "),e("el-table-column",{scopedSlots:t._u([{key:"header",fn:function(r){return[e("i",{staticClass:"fa fa-fw fa-cloud"}),t._v("\n            "+t._s(t.$t("Remote"))+"\n          ")]}},{key:"default",fn:function(r){return[r.row.remote?[e("strong",{staticClass:"script-set-name"},[t._v(t._s(t.getTranslation(r.row.remote.title)||r.row.remote.id))]),t._v("\n              　\n              "),t.filterInput&&t.getTranslation(r.row.remote.title)===t.filterInput?e("el-tag",{attrs:{type:"primary",size:"mini",effect:"dark"}},[t._v(t._s(t.$t("Exactly Match")))]):t._e(),t._v(" "),e("div",[e("span",{staticClass:"text-info"},[t._v("ID")]),t._v("\n                 "),e("code",{staticClass:"text-main"},[t._v(t._s(r.row.remote.id))]),t._v(" "),e("CopyButton",{attrs:{content:r.row.remote.id}}),t._v("\n                　\n                "),t.filterInput&&r.row.remote.id===t.filterInput?e("el-tag",{attrs:{type:"primary",size:"mini",effect:"dark"}},[t._v(t._s(t.$t("Exactly Match")))]):t._e(),t._v(" "),e("br"),t._v("\n                　"+t._s(t.$tc("ScriptCount",(r.row.remote.scripts||[]).length))+"\n              ")],1)]:[t.scriptMarket.isAdmin?e("i",{staticClass:"text-info"},[t._v(t._s(t.$t("Not Published")))]):e("i",{staticClass:"text-info"},[t._v(t._s(t.$t("No Corresponding Script Set")))])]]}}])}),t._v(" "),e("el-table-column",{attrs:{label:t.$t("Publisher"),width:"200"},scopedSlots:t._u([{key:"default",fn:function(r){return[r.row.remote?e("div",[e("span",[t._v(t._s(r.row.remote._extra.exportUser))])]):t._e(),t._v(" "),r.row.remote?e("div",{staticClass:"publish-time"},[e("span",[t._v(t._s(t._f("datetime")(r.row.remote._extra.exportTime)))]),t._v(" "),e("br"),t._v(" "),e("span",{staticClass:"text-info"},[t._v(t._s(t._f("toNow")(r.row.remote._extra.exportTime)))])]):t._e()]}}])}),t._v(" "),e("el-table-column",{attrs:{align:"right",width:"180"},scopedSlots:t._u([{key:"header",fn:function(r){return[!t.scriptMarket.isAdmin&&t.hasNonInstallable&&t.isAccessible?e("el-switch",{attrs:{"active-color":"#FF0000","active-text":t.$t("Force Mode")},model:{value:t.forceModeEnabled,callback:function(e){t.forceModeEnabled=e},expression:"forceModeEnabled"}}):t._e()]}},{key:"default",fn:function(r){return[t.scriptMarket.isAdmin?[e("el-link",{attrs:{disabled:!r.row.isPublishable},on:{click:function(e){return t.openDialog(r.row.local,"publish")}}},[t._v(t._s(t.$t("Publish")))]),t._v(" "),e("el-link",{attrs:{disabled:!r.row.isDeletable},on:{click:function(e){return t.openDialog(r.row.remote,"delete")}}},[t._v(t._s(t.$t("Delete")))])]:[r.row.local?t.forceModeEnabled&&!r.row.isInstallable?e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.openDialog(r.row.remote,"install")}}},[e("i",{staticClass:"fa fa-fw fa-exclamation-triangle"}),t._v("\n                "+t._s(t.$t("Force Install"))+"\n              ")]):e("el-link",{attrs:{disabled:!t.isAccessible||!r.row.isInstallable},on:{click:function(e){return t.openDialog(r.row.remote,r.row.hasNewVersion?"upgrade":"reinstall")}}},[t._v("\n                "+t._s(r.row.hasNewVersion?t.$t("Upgrade"):t.$t("Reinstall"))+"\n              ")]):e("el-link",{attrs:{disabled:!t.isAccessible},on:{click:function(e){return t.openDialog(r.row.remote,"install")}}},[t._v("\n                "+t._s(t.$t("Install"))+"\n              ")])]]}}])})],1)],1),t._v(" "),e("el-dialog",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.isProcessing,expression:"isProcessing",modifiers:{fullscreen:!0,lock:!0}}],attrs:{title:t.operationDialogTitle,visible:t.showOperation,"close-on-click-modal":!1,"close-on-press-escape":!1,"element-loading-spinner":"el-icon-loading","element-loading-text":t.$t("Processing..."),width:"650px"},on:{"update:visible":function(e){t.showOperation=e}}},[e("el-form",{ref:"form",attrs:{"label-width":"115px",model:t.form,rules:t.formRules}},[e("el-form-item",{attrs:{label:t.$t("Title")}},[e("el-input",{attrs:{disabled:t.isWriteOperation,readonly:!t.isWriteOperation,value:t.scriptSetToOperate.title}})],1),t._v(" "),e("el-form-item",{attrs:{label:"ID"}},[e("el-input",{attrs:{disabled:t.isWriteOperation,readonly:!t.isWriteOperation,value:t.scriptSetToOperate.id}})],1),t._v(" "),t.T.notNothing(t.scriptSetToOperate.description)?e("el-form-item",{attrs:{label:t.$t("Description")}},[e("el-input",{attrs:{disabled:t.isWriteOperation,readonly:!t.isWriteOperation,type:"textarea",resize:"none",autosize:{minRows:2},value:t.scriptSetToOperate.description}})],1):t._e(),t._v(" "),t.T.notNothing(t.scriptSetToOperate.requirements)?e("el-form-item",{attrs:{label:t.$t("Requirements")}},[e("el-input",{attrs:{disabled:t.isWriteOperation,readonly:!t.isWriteOperation,type:"textarea",resize:"none",autosize:{minRows:2},value:t.scriptSetToOperate.requirements}})],1):t._e(),t._v(" "),t.isWriteOperation?[e("el-form-item",[e("el-divider",{staticClass:"commit-divider"})],1),t._v(" "),e("el-form-item",{attrs:{label:t.$t("User Name")}},[e("el-input",{attrs:{disabled:t.isWriteOperation,readonly:!t.isWriteOperation,value:t.$store.state.userProfile.name}})],1),t._v(" "),e("el-form-item",{attrs:{label:t.$t("Email")}},[e("el-input",{attrs:{disabled:t.isWriteOperation,readonly:!t.isWriteOperation,value:t.$store.state.userProfile.email}})],1),t._v(" "),"publish"===t.operation?e("el-form-item",{attrs:{label:t.$t("Publish Note"),prop:"note"}},[e("el-input",{attrs:{type:"textarea",resize:"none",autosize:{minRows:2}},model:{value:t.form.note,callback:function(e){t.$set(t.form,"note",e)},expression:"form.note"}})],1):t._e()]:[t.scriptSetToOperate._extra?e("el-form-item",{attrs:{label:t.$t("Publish Note")}},[e("el-input",{attrs:{disabled:t.isWriteOperation,readonly:!t.isWriteOperation,value:t.scriptSetToOperate._extra.note}})],1):t._e()]],2),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.showOperation=!1}}},[t._v(t._s(t.$t("Cancel")))]),t._v(" "),e("el-button",{attrs:{type:"primary",loading:t.isProcessing},on:{click:function(e){return t.submitData(t.operation)}}},[t._v(t._s(t.operationButtonTitle))])],1)],1),t._v(" "),e("el-dialog",{attrs:{visible:t.showDeploy,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"950px"},on:{"update:visible":function(e){t.showDeploy=e}}},[e("div",{staticClass:"deploy-container"},[e("el-image",{attrs:{src:t.deployImage}}),t._v(" "),e("el-card",{staticClass:"deploy-content"},[e("i",{staticClass:"fa fa-fw fa-check-circle deploy-icon"}),t._v(" "),e("h1",{staticClass:"text-main"},[t._v(t._s(t.$t("Script Set Installed Successfully!")))]),t._v(" "),t.T.notNothing(t.deployment.requirements)?e("p",[t._v("\n            "+t._s(t.$t("This Script Set requires 3rd party Python packages"))+"\n            "),e("br"),t._v(" "),e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.common.goToPIPTools(t.deployment.requirements,{newTab:!0})}}},[e("i",{staticClass:"fa fa-fw fa-external-link"}),t._v("\n              "+t._s(t.$t("Go to PIP Tool"))+"\n            ")])],1):t._e(),t._v(" "),t.deployment.exampleScriptId?[t.deployment.startupScriptId?e("p",[e("span",{staticClass:"text-good"},[e("i",{staticClass:"fa fa-fw fa-check-circle"}),t._v("\n                "+t._s(t.$t("Startup Script is deployed"))+"\n              ")]),t._v(" "),e("br"),t._v(" "),e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.common.goToScript(t.deployment.startupScriptId)}}},[e("i",{staticClass:"fa fa-fw fa-external-link"}),t._v("\n                "+t._s(t.$t("Go to Startup Script"))+"\n              ")])],1):e("p",[t.T.isNothing(t.deployment.configFields)?[t._v("\n                "+t._s(t.$t("This Script Set includes an example which can be used for deploying Startup Script"))+"\n              ")]:[t._v("\n                "+t._s(t.$t("This Script Set includes an example which can be used for deploying Startup Script with following configs:"))+"\n                "),e("el-form",{attrs:{model:t.configReplacerForm,size:"small"}},t._l(t.deployment.configFields,(function(r){return e("el-form-item",{key:r},[e("label",{domProps:{innerHTML:t._s(t.renderMarkdown(t.getTranslation(r)))}}),t._v(" "),e("el-input",{model:{value:t.configReplacerForm[r],callback:function(e){t.$set(t.configReplacerForm,r,e)},expression:"configReplacerForm[f]"}})],1)})),1)],t._v(" "),e("el-button",{attrs:{type:"primary",size:"small",disabled:t.isDeploying},on:{click:function(e){return t.deploy({withCronJob:!0})}}},[t.isDeploying?e("i",{staticClass:"fa fa-fw fa-circle-o-notch fa-spin"}):e("i",{staticClass:"fa fa-fw fa-plus"}),t._v("\n                "+t._s(t.$t("Deploy Startup Script"))+"\n              ")])],2),t._v(" "),t.deployment.startupScriptCronJobFunc?[t.deployment.startupCronJobId?e("p",[e("span",{staticClass:"text-good"},[e("i",{staticClass:"fa fa-fw fa-check-circle"}),t._v("\n                  "+t._s(t.$t("Cron Job is deployed"))+"\n              ")]),t._v(" "),e("br"),t._v(" "),e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.common.goToList("cron-job-list",{_fuzzySearch:t.deployment.startupCronJobId})}}},[e("i",{staticClass:"fa fa-fw fa-external-link"}),t._v("\n                  "+t._s(t.$t("Go to the Cron Job"))+"\n                ")])],1):t.deployment.startupScriptId?e("p",[t._v("\n                "+t._s(t.$t("Cron Job is not deployed yet"))+"\n              "),e("br"),t._v(" "),e("el-button",{attrs:{type:"primary",size:"small",disabled:t.isDeploying},on:{click:function(e){return t.deploy({withCronJob:!0})}}},[t.isDeploying?e("i",{staticClass:"fa fa-fw fa-circle-o-notch fa-spin"}):e("i",{staticClass:"fa fa-fw fa-plus"}),t._v("\n                  "+t._s(t.$t("Deploy Cron Job"))+"\n                ")])],1):t._e()]:t._e()]:t._e()],2)],1),t._v(" "),e("div",{staticClass:"deploy-buttons",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.showDeploy=!1}}},[t._v(t._s(t.$t("Stay Here")))])],1)]),t._v(" "),e("el-dialog",{attrs:{title:t.$t("Extra Config"),visible:t.showExtra,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"950px"},on:{"update:visible":function(e){t.showExtra=e}}},[e("el-form",{ref:"extraForm",attrs:{"label-width":"115px",model:t.extraForm,rules:t.extraFormRule}},[e("el-form-item",{attrs:{label:t.$t("Homepage URL"),prop:"homepageURL"}},[e("el-input",{model:{value:t.extraForm.homepageURL,callback:function(e){t.$set(t.extraForm,"homepageURL",e)},expression:"extraForm.homepageURL"}})],1),t._v(" "),e("el-form-item",{attrs:{label:t.$t("Translations")}},[e("el-dropdown",{on:{command:t.addTranslation}},[e("el-button",[t._v("\n              "+t._s(t.$t("Add translation for"))+"\n              "),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.C.UI_LOCALE,(function(r){return e("el-dropdown-item",{key:r.key,attrs:{command:r.key}},[t._v("\n                "+t._s(r.name)+"\n              ")])})),1)],1),t._v(" "),t.extraFormHeight>1e3?e("div",{staticClass:"secondary-cancel-save-buttons"},[e("el-button",{attrs:{size:"small"},on:{click:function(e){t.showExtra=!1}}},[t._v(t._s(t.$t("Cancel")))]),t._v(" "),e("el-button",{attrs:{size:"small",type:"primary",loading:t.isProcessing},on:{click:t.saveExtra}},[t._v(t._s(t.$t("Save")))])],1):t._e()],1),t._v(" "),e("el-form-item",[t.T.notNothing(t.extraForm.i18n)?e("el-tabs",{attrs:{type:"border-card",closable:""},on:{"tab-remove":t.removeTranslation},model:{value:t.editingLang,callback:function(e){t.editingLang=e},expression:"editingLang"}},t._l(t.extraForm.i18n,(function(r,i){return e("el-tab-pane",{key:i,attrs:{name:i,label:t.C.UI_LOCALE_MAP.get(i).name}},[e("el-form",{ref:"extraI18nForm",refInFor:!0,attrs:{"label-width":"50%",model:t.extraForm.i18n}},[e("el-form-item",{staticClass:"translation-title",attrs:{label:t.$t("Source Text"),prop:"_"}},[e("label",[t._v(t._s(t.$t("Translated Text")))]),t._v(" "),"en"===i&&t.scriptMarket.isAdmin&&t.T.isFuncDev()?e("el-link",{staticStyle:{float:"right"},attrs:{size:"mini"},on:{click:t.__fillEnPreTranslation}},[t._v("填充预翻译文")]):t._e()],1),t._v(" "),t._l(t.orderedTextsToTranslateMap[i],(function(r){return e("el-form-item",{key:"".concat(i,".").concat(r),attrs:{label:r,prop:"".concat(i,".").concat(r)}},[e("el-input",{attrs:{size:"mini"},model:{value:t.extraForm.i18n[i][r],callback:function(e){t.$set(t.extraForm.i18n[i],r,e)},expression:"extraForm.i18n[lang][text]"}})],1)}))],2)],1)})),1):t._e()],1)],1),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.showExtra=!1}}},[t._v(t._s(t.$t("Cancel")))]),t._v(" "),e("el-button",{attrs:{type:"primary",loading:t.isProcessing},on:{click:t.saveExtra}},[t._v(t._s(t.$t("Save")))])],1)],1),t._v(" "),e("FeatureNoticeDialog",{attrs:{featureKey:"scriptMarket.homepage",disabled:t.scriptMarket.isAdmin||!t.homepageURL&&"git"!==t.scriptMarket.type,description:t.$t("FeatureNotice_scriptMarketHomepage"),image:t.img_noticeScriptMarketHomepage}})],1)],1)},a=[],n=r("c7eb"),o=r("1da1"),s=(r("4de4"),r("14d9"),r("13d5"),r("fb6a"),r("4e82"),r("b64b"),r("d3b7"),r("07ac"),r("ac1f"),r("25f0"),r("466d"),r("5319"),r("5b81"),r("498a"),r("159b"),r("ddb0"),r("130f"),r("40f5")),l=r("5a45"),c=r("1692"),p=r.n(c),u=r("576e5"),d=r.n(u),f={name:"ScriptMarketContents",components:{FeatureNoticeDialog:l["a"]},watch:{$route:{immediate:!0,handler:function(t,e){var r=this;return Object(o["a"])(Object(n["a"])().mark((function t(){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.loadData();case 2:case"end":return t.stop()}}),t)})))()}}},methods:{onFilterChange:Object(s["debounce"])((function(t){this.filterTEXT=t})),renderMarkdown:function(t){var e={inline:!0,renderer:{em:function(t){return'<strong class="text-bad">'.concat(t,"</strong>")},link:function(t,e,r){return'<a class="text-main" href="'.concat(t,'" target="_blank" style="float: right"><i class="fa fa-fw fa-info-circle"></i> ').concat(r,"</a>")}}};return this.T.renderMarkdown(t,e)},loadData:function(t){var e=this;return Object(o["a"])(Object(n["a"])().mark((function r(){var i,a,o,s,l,c,p,u;return Object(n["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t=t||{},i=null,!t.forceLoadScriptMarket&&!e.T.isNothing(e.scriptMarket)){r.next=11;break}return r.next=5,e.T.callAPI_getOne("/api/v1/script-markets/do/list",e.$route.params.id,{alert:!0});case 5:if(i=r.sent,i&&i.ok){r.next=8;break}return r.abrupt("return");case 8:e.scriptMarket=i.data,e.T.notNothing(e.scriptMarket.extraJSON)&&(a={},Object.keys(e.extraForm).forEach((function(t){return a[t]=e.scriptMarket.extraJSON[t]})),e.extraForm=a,e.extraForm&&e.T.notNothing(e.extraForm.i18n)&&(e.editingLang=Object.keys(e.extraForm.i18n)[0])),e.common.checkScriptMarketUpdate(e.scriptMarket.id);case 11:if(t.skipLoadRemote){r.next=19;break}return r.next=14,e.T.callAPI_get("/api/v1/script-markets/:id/script-sets/do/list",{params:{id:e.$route.params.id}});case 14:if(i=r.sent,i&&i.ok){r.next=17;break}return r.abrupt("return",e.$router.push({name:"script-market-list"}));case 17:e.remoteScriptSets=i.data;case 19:if(t.skipLoadLocal){r.next=26;break}return r.next=22,e.T.callAPI_getAll("/api/v1/script-sets/do/list",{query:{_withScripts:!0,fields:["id","title","description","requirements","scripts","md5","origin","originId","originMD5","lockedByUserId"]}});case 22:if(i=r.sent,i&&i.ok){r.next=25;break}return r.abrupt("return");case 25:e.localScriptSets=i.data;case 26:if(o={},e.remoteScriptSets.forEach((function(t){o[t.id]=o[t.id]||{},o[t.id].remote=t})),e.localScriptSets.forEach((function(t){o[t.id]=o[t.id]||{},o[t.id].local=t})),s=Object.values(o),s.forEach((function(t){t.isLockedByMe=!(!t.local||t.local.lockedByUserId!==e.$store.getters.userId),t.isIdMatched=!(!t.local||!t.remote),e.scriptMarket.isAdmin?(t.isLocalEdited=!(!t.isIdMatched||t.local.md5==t.remote.originMD5),t.isPublishable=!(!t.local||!e.isAccessible),t.isDeletable=!(!t.remote||!e.isAccessible)):(t.isScriptMarket=!(!t.local||"scriptMarket"!==t.local.origin),t.isScriptMarketMatched=!(!t.local||"scriptMarket"!==t.local.origin||t.local.originId!==e.scriptMarket.id),t.hasNewVersion=!(!t.isIdMatched||!t.isScriptMarketMatched||t.local.originMD5===t.remote.originMD5),t.isIdMatched?t.isIdMatched&&t.isScriptMarket&&!t.isScriptMarketMatched?t.isInstallable=!1:t.isIdMatched&&t.isScriptMarket&&t.isScriptMarketMatched&&(t.isLocalEdited=t.local.md5!==t.local.originMD5,t.isRemoteUpdated=!(t.local.originMD5===t.remote.originMD5),t.isInstallable=!t.isLocalEdited&&e.isAccessible):t.isInstallable=!!t.remote);var r=t.local||{},i=t.remote||{},a=i._extra&&i._extra.exportUser||"";e.T.appendSearchKeywords(t,[r.id||i.id,r.title||i.title,i.id||r.id,i.title||r.title,e.getTranslation(r.title||i.title),e.getTranslation(i.title||r.title),a])})),s.sort((function(t,r){var i=function(t){var r=0;return t.isRemoteUpdated&&(r+=1e3),t.isLocalEdited&&(r+=100),t.isIdMatched&&(r+=10),e.scriptMarket.isAdmin?t.local&&(r+=1):t.remote&&(r+=1),r},a=i(t),n=i(r);return n-a})),e.data=s,l=e.T.noDuplication(e.data.reduce((function(t,e){return e.isIdMatched?(e.remote.scripts.forEach((function(r){if(r.code&&r.id==="".concat(e.remote.id,"__example")){var i=r.code.match(/"<.+>"/g);i&&i.forEach((function(e){t.push(e.slice(2,-2))}))}})),t):t}),[])),c=e.T.noDuplication(e.data.reduce((function(t,e){return e.remote&&e.remote.title?(t.push(e.remote.title),t):t}),[])),e.textsToTranslate=l.concat(c),!e.extraForm.i18n){r.next=50;break}r.t0=Object(n["a"])().keys(e.extraForm.i18n);case 38:if((r.t1=r.t0()).done){r.next=50;break}p=r.t1.value,r.t2=Object(n["a"])().keys(e.extraForm.i18n[p]);case 41:if((r.t3=r.t2()).done){r.next=48;break}if(u=r.t3.value,!(e.textsToTranslate.indexOf(u)>=0)){r.next=45;break}return r.abrupt("continue",41);case 45:e.$delete(e.extraForm.i18n[p],u),r.next=41;break;case 48:r.next=38;break;case 50:setTimeout((function(){e.$store.commit("updateLoadStatus",!0)}),500);case 51:case"end":return r.stop()}}),r)})))()},openDialog:function(t,e){switch(this.form.note=null,e){case"publish":case"delete":if("git"===this.scriptMarket.type&&!this.$root.checkUserProfileForGit())return;break}switch(e){case"publish":this.operationDialogTitle=this.$t("Publish Script Set"),this.operationButtonTitle=this.$t("Publish");break;case"delete":this.operationDialogTitle=this.$t("Delete Script Set"),this.operationButtonTitle=this.$t("Delete");break;case"install":this.operationDialogTitle=this.$t("Install Script Set"),this.operationButtonTitle=this.$t("Install");break;case"reinstall":this.operationDialogTitle=this.$t("Reinstall Script Set"),this.operationButtonTitle=this.$t("Reinstall");break;case"upgrade":this.operationDialogTitle=this.$t("Upgrade Script Set"),this.operationButtonTitle=this.$t("Upgrade");break}switch(t=this.T.jsonCopy(t),e){case"install":case"reinstall":case"upgrade":t.title=this.getTranslation(t.title)}this.operation=e,this.scriptSetToOperate=t,this.showOperation=!0},submitData:function(t){var e=this;return Object(o["a"])(Object(n["a"])().mark((function r(){var i,a,o,s,l,c,p,u,d,f,h,m;return Object(n["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$refs.form.validate();case 3:r.next=8;break;case 5:return r.prev=5,r.t0=r["catch"](0),r.abrupt("return",console.error(r.t0));case 8:r.t1=t,r.next="publish"===r.t1?11:"delete"===r.t1?16:"install"===r.t1?21:"reinstall"===r.t1?26:"upgrade"===r.t1?31:36;break;case 11:return r.next=13,e.T.confirm(e.$t("Are you sure you want to publish the Script Set to the Script Market?"));case 13:if(r.sent){r.next=15;break}return r.abrupt("return");case 15:return r.abrupt("break",36);case 16:return r.next=18,e.T.confirm(e.$t("Are you sure you want to delete the Script Set from the Script Market?"));case 18:if(r.sent){r.next=20;break}return r.abrupt("return");case 20:return r.abrupt("break",36);case 21:return r.next=23,e.T.confirm(e.$t("Are you sure you want to install the Script Set?"));case 23:if(r.sent){r.next=25;break}return r.abrupt("return");case 25:return r.abrupt("break",36);case 26:return r.next=28,e.T.confirm(e.$t("Are you sure you want to reinstall the Script Set?"));case 28:if(r.sent){r.next=30;break}return r.abrupt("return");case 30:return r.abrupt("break",36);case 31:return r.next=33,e.T.confirm(e.$t("Are you sure you want to upgrade the Script Set?"));case 33:if(r.sent){r.next=35;break}return r.abrupt("return");case 35:return r.abrupt("break",36);case 36:e.isProcessing=!0,i=null,r.t2=t,r.next="publish"===r.t2?41:"delete"===r.t2?45:"install"===r.t2||"reinstall"===r.t2||"upgrade"===r.t2?49:55;break;case 41:return r.next=43,e.T.callAPI("post","/api/v1/script-markets/:id/do/publish",{params:{id:e.scriptMarket.id},body:{scriptSetIds:[e.scriptSetToOperate.id],mode:"add",note:e.form.note},alert:{okMessage:e.$t("Script Set published to the Script Market")}});case 43:return i=r.sent,r.abrupt("break",55);case 45:return r.next=47,e.T.callAPI("post","/api/v1/script-markets/:id/do/publish",{params:{id:e.scriptMarket.id},body:{scriptSetIds:[e.scriptSetToOperate.id],mode:"delete",note:"Delete Script Set: ".concat(e.scriptSetToOperate.id)},alert:{okMessage:e.$t("Script Set deleted from the Script Market")}});case 47:return i=r.sent,r.abrupt("break",55);case 49:return a={install:"Script Set installed, new Script Set is in effect immediately",reinstall:"Script Set reinstalled, new Script Set is in effect immediately",upgrade:"Script Set upgraded, new Script Set is in effect immediately"},r.next=52,e.T.callAPI("post","/api/v1/script-markets/:id/do/install",{params:{id:e.scriptMarket.id},body:{scriptSetIds:[e.scriptSetToOperate.id]},alert:{okMessage:e.$t(a[t])}});case 52:return i=r.sent,e.$store.commit("updateScriptListSyncTime"),r.abrupt("break",55);case 55:if(i&&i.ok){r.next=57;break}return r.abrupt("return");case 57:o=null,s=null,l=null,r.t3=t,r.next="publish"===r.t3||"delete"===r.t3?63:"install"===r.t3||"reinstall"===r.t3||"upgrade"===r.t3?67:71;break;case 63:return o=!0,s=!0,l=!1,r.abrupt("break",71);case 67:return o=!1,s=!1,l=!0,r.abrupt("break",71);case 71:return o||e.common.checkScriptMarketUpdate(e.scriptMarket.id),r.next=74,e.loadData({skipLoadLocal:s,skipLoadRemote:l});case 74:r.t4=t,r.next="install"===r.t4||"reinstall"===r.t4||"upgrade"===r.t4?77:93;break;case 77:if(!e.T.notNothing(i.data.requirements)&&!e.T.notNothing(i.data.exampleScriptIds)){r.next=92;break}if(c=i.data.exampleScriptIds[0]||null,p=i.data.startupScriptIds[0]||null,u=i.data.startupCronJobIds[0]||null,d=i.data.startupScriptCronJobFuncMap[p]||null,f=i.data.requirements||null,h=i.data.configFields||null,!e.T.notNothing(f)){r.next=89;break}return r.next=87,e.T.callAPI_get("/api/v1/python-packages/installed/do/list");case 87:m=r.sent,m&&m.ok&&m.data.forEach((function(t){t.name in f&&delete f[t.name]}));case 89:e.deployment={requirements:f,configFields:h,exampleScriptId:c,startupScriptId:p,startupCronJobId:u,startupScriptCronJobFunc:d},e.configReplacerForm={},e.showDeploy=!0;case 92:return r.abrupt("break",93);case 93:e.isProcessing=!1,e.showOperation=!1;case 95:case"end":return r.stop()}}),r,null,[[0,5]])})))()},deploy:function(t){var e=this;return Object(o["a"])(Object(n["a"])().mark((function r(){var i;return Object(n["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t=t||{},t.startupScriptTitle=e.getTranslation(e.scriptSetToOperate.title),t.configReplacer=e.configReplacerForm||{},e.isDeploying=!0,r.next=6,e.T.callAPI("post","/api/v1/script-sets/:id/do/deploy",{params:{id:e.scriptSetToOperate.id},body:t});case 6:if(i=r.sent,i&&i.ok){r.next=10;break}return e.isDeploying=!1,r.abrupt("return");case 10:setTimeout((function(){var t=i.data;t.startupScriptId&&(e.deployment.startupScriptId=t.startupScriptId),t.startupCronJobId&&(e.deployment.startupCronJobId=t.startupCronJobId),t.startupScriptCronJobFunc&&(e.deployment.startupScriptCronJobFunc=t.startupScriptCronJobFunc),e.isDeploying=!1}),1e3);case 11:case"end":return r.stop()}}),r)})))()},updateExtraFromHeight:function(){var t=this;setImmediate((function(){t.extraFormHeight=t.$refs.extraForm.$el.scrollHeight}))},openExtraDialog:function(){var t=this;this.extraFormHeight=0,this.C.UI_LOCALE.forEach((function(e){var r=e.key,i=t.T.jsonCopy(t.textsToTranslate),a={};t.extraForm.i18n&&t.extraForm.i18n[r]&&(a=t.extraForm.i18n[r]),t.T.notNothing(a)?i.sort((function(t,e){return a[t]&&!a[e]?1:!a[t]&&a[e]||t<e?-1:t>e?1:0})):i.sort((function(t,e){return t<e?-1:t>e?1:0})),t.orderedTextsToTranslateMap[r]=i})),this.showExtra=!0,this.updateExtraFromHeight()},saveExtra:function(){var t=this;return Object(o["a"])(Object(n["a"])().mark((function e(){var r,i;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$refs.extraForm.validate();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e["catch"](0),e.abrupt("return",console.error(e.t0));case 8:return t.isProcessing=!0,r=t.T.jsonCopy(t.extraForm),e.next=12,t.T.callAPI("post","/api/v1/script-markets/:id/do/modify",{params:{id:t.$route.params.id},body:{data:{extraJSON:r}},alert:{okMessage:t.$t("Script Market saved")}});case 12:if(i=e.sent,i&&i.ok){e.next=15;break}return e.abrupt("return");case 15:return t.$store.commit("updateHighlightedTableDataId",i.data.id),e.next=18,t.loadData({skipLoadLocal:!0,skipLoadRemote:!0,forceLoadScriptMarket:!0});case 18:t.isProcessing=!1,t.showExtra=!1;case 20:case"end":return e.stop()}}),e,null,[[0,5]])})))()},addTranslation:function(t){if(this.extraForm.i18n=this.extraForm.i18n||{},!this.extraForm.i18n[t]){this.$set(this.extraForm.i18n,t,this.extraForm.i18n[t]||{});var e={};this.textsToTranslate.forEach((function(t){e[t]=null})),this.extraForm.i18n[t]=e}this.editingLang=t,this.updateExtraFromHeight()},removeTranslation:function(t){var e=this;return Object(o["a"])(Object(n["a"])().mark((function r(){var i;return Object(n["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.T.confirm(e.$t("Are you sure you want to remove the Translation?"));case 2:if(r.sent){r.next=4;break}return r.abrupt("return");case 4:e.$delete(e.extraForm.i18n,t),i=Object.keys(e.extraForm.i18n),i.length>0&&(e.editingLang=i[0]),e.updateExtraFromHeight();case 8:case"end":return r.stop()}}),r)})))()},getTranslation:function(t){return t&&this.scriptMarketI18n&&this.scriptMarketI18n[this.currentLang]&&this.scriptMarketI18n[this.currentLang][t]||t},__fillEnPreTranslation:function(){var t=[["（","("],["）",")"],["-"," "],["观测云工具包","Guance Toolkit"],["您的","Your"],["你的","Your"],["观测云集成","Guance Integration"],["观测云自建巡检","Guance Intelligent Inspection"],["Core 核心包","Core Package"],["阿里云","Alibaba Cloud"],["腾讯云","Tencent Cloud"],["华为云","Huawei Cloud"],["您的阿里云","Your Alibaba Cloud"],["您的腾讯云","Your Tencent Cloud"],["您的华为云","Your Huawei Cloud"],["你的阿里云","Your Alibaba Cloud"],["你的腾讯云","Your Tencent Cloud"],["你的华为云","Your Huawei Cloud"],["慢查询日志","Slow Log"],["日志","Log"],["账单","Bill"],["云监控","Monitor"],["实例维度","By Instance"],["性能","Performance"],["健康","Health"],["采集","Collector"],["巡检","Inspecter"],["示例","Example"]],e=function(e){var r=e;return t.forEach((function(t){r=r.replaceAll(t[0]," ".concat(t[1]," "))})),r=r.replace(/\s+/g," ").replaceAll("( ","(").replaceAll(" )",")").trim().toString(),r!==e?r:null},r=this.T.jsonCopy(this.extraForm.i18n||{});this.textsToTranslate.forEach((function(t){r.en[t]||(r.en[t]=e(t))})),this.extraForm.i18n=r}},computed:{isWriteOperation:function(){switch(this.operation){case"publish":case"delete":return!0;default:return!1}},lockedByUser:function(){return"".concat(this.scriptMarket.lockedByUserName||this.scriptMarket.lockedByUsername)},isLockedByMe:function(){return this.scriptMarket.lockedByUserId===this.$store.getters.userId},isLockedByOther:function(){return this.scriptMarket.lockedByUserId&&!this.isLockedByMe},isAccessible:function(){return!!this.$store.getters.isAdmin||!this.isLockedByOther},hasLocalMarker:function(){for(var t=0;t<this.data.length;t++){var e=this.data[t];if(e.isLocalEdited)return!0}return!1},hasRemoteMarker:function(){for(var t=0;t<this.data.length;t++){var e=this.data[t];if(e.isRemoteUpdated)return!0}return!1},hasNonInstallable:function(){for(var t=0;t<this.data.length;t++){var e=this.data[t];if(!this.scriptMarket.isAdmin&&!e.isInstallable)return!0}return!1},filteredData:function(){var t=(this.filterTEXT||"").toLowerCase().trim(),e=this.data;return this.scriptMarket.isAdmin||(e=e.filter((function(t){return!(t.local&&!t.remote)}))),t&&(e=this.T.filterByKeywords(t,e)),this.filterLockedByMe&&(e=e.filter((function(t){return t.isLockedByMe}))),e},deployImage:function(){return d.a},homepageURL:function(){return this.scriptMarket&&this.scriptMarket.extra?this.scriptMarket.extra.homepageURL:null},scriptMarketI18n:function(){return this.scriptMarket&&this.scriptMarket.extra?this.scriptMarket.extra.i18n:null}},props:{},data:function(){return{data:[],remoteScriptSets:[],localScriptSets:[],scriptMarket:{},form:{note:null},formRules:{note:[{trigger:"change",message:this.$t("Please input note"),required:!0}]},extraForm:{homepageURL:null,i18n:{}},extraFormRule:{homepageURL:[{trigger:"change",message:this.$t("Should start with http:// or https://"),pattern:this.C.RE_PATTERN.httpURL}]},filterInput:"",filterTEXT:"",filterLockedByMe:!1,scriptSetToOperate:{},operation:null,showOperation:!1,operationDialogTitle:null,operationButtonTitle:null,isProcessing:!1,deployment:{},configReplacerForm:{},showDeploy:!1,isDeploying:!1,forceModeEnabled:!1,showExtra:!1,extraFormHeight:0,currentLang:this.$store.getters.uiLocale,editingLang:null,textsToTranslate:[],orderedTextsToTranslateMap:{},img_noticeScriptMarketHomepage:p.a}}},h=f,m=(r("174c"),r("5252"),r("2877")),S=r("3eac"),b=r("0312"),_=r("2936"),g=r("23c0"),y=Object(m["a"])(h,i,a,!1,null,"05b49e5f",null);"function"===typeof S["default"]&&Object(S["default"])(y),"function"===typeof b["default"]&&Object(b["default"])(y),"function"===typeof _["default"]&&Object(_["default"])(y),"function"===typeof g["default"]&&Object(g["default"])(y);e["default"]=y.exports},d866:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh-TW":{"Don\'t prompt again":"不再提示"}}'),delete t.options._Ctor}},df4b:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh-HK":{"Don\'t prompt again":"不再提示"}}'),delete t.options._Ctor}}}]);