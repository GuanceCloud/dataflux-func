(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-660f57e2"],{"12fb":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"fade"}},[e.$store.state.isLoaded?a("el-container",{attrs:{direction:"vertical"}},[a("el-header",{attrs:{height:"60px"}},[a("h1",[e._v("\n        Access Key\n        "),a("div",{staticClass:"header-control"},[a("FuzzySearchInput",{attrs:{dataFilter:e.dataFilter}}),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.openSetup(null,"add")}}},[a("i",{staticClass:"fa fa-fw fa-plus"}),e._v("\n            "+e._s(e.$t("New"))+"\n          ")])],1)])]),e._v(" "),a("el-main",{staticClass:"common-table-container"},[e.T.isNothing(e.data)?a("div",{staticClass:"no-data-area"},[e.T.isPageFiltered()?a("h1",{staticClass:"no-data-title"},[e._v(e._s(e.$t("No matched data found")))]):a("h1",{staticClass:"no-data-title"},[e._v(e._s(e.$t("No Access Key has ever been added")))]),e._v(" "),a("p",{staticClass:"no-data-tip"},[e._v("\n          添加Access Key，允许外部系统调用本平台的接口进行管理\n        ")])]):a("el-table",{staticClass:"common-table",attrs:{height:"100%",data:e.data,"row-class-name":e.T.getHighlightRowCSS}},[a("el-table-column",{attrs:{label:e.$t("Name")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.name))])]}}],null,!1,2020036417)}),e._v(" "),a("el-table-column",{attrs:{label:"Access Key ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("code",{staticClass:"text-code text-small"},[e._v(e._s(t.row.id))]),a("CopyButton",{attrs:{content:t.row.id}})]}}],null,!1,1592279540)}),e._v(" "),a("el-table-column",{attrs:{label:"Access Key Secret"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.showSecretMap[t.row.id]?[a("code",{staticClass:"text-code text-small"},[e._v(e._s(t.row.secret))]),a("CopyButton",{attrs:{content:t.row.secret}})]:[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.showSecret(t.row)}}},[e._v(e._s(e.$t("Show")))])]]}}],null,!1,777174896)}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("Create Time"),width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("datetime")(t.row.createTime)))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"text-info"},[e._v(e._s(e._f("fromNow")(t.row.createTime)))])]}}],null,!1,273918412)}),e._v(" "),a("el-table-column",{attrs:{align:"right",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.quickSubmitData(t.row,"delete")}}},[e._v(e._s(e.$t("Delete")))])]}}],null,!1,1024911360)})],1)],1),e._v(" "),a("Pager",{attrs:{pageInfo:e.pageInfo}})],1):e._e()],1)},r=[],s=a("1da1"),c=(a("96cf"),{name:"AccessKeyList",components:{},watch:{$route:{immediate:!0,handler:function(e,t){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.loadData();case 2:case"end":return e.stop()}}),e)})))()}}},methods:{loadData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.dataFilter=e.T.createListQuery({fields:["id","userId","name","secret","createTime"],sort:["-seq"]}),t.next=3,e.T.callAPI_get("/api/v1/access-keys/do/list",{query:a});case 3:if(n=t.sent,n.ok){t.next=6;break}return t.abrupt("return");case 6:e.data=n.data,e.pageInfo=n.pageInfo,e.$store.commit("updateLoadStatus",!0);case 9:case"end":return t.stop()}}),t)})))()},quickSubmitData:function(e,t){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:n.t0=t,n.next="delete"===n.t0?3:8;break;case 3:return n.next=5,a.T.confirm(a.$t("Are you sure you want to delete the Access Key?"));case 5:if(n.sent){n.next=7;break}return n.abrupt("return");case 7:return n.abrupt("break",8);case 8:r=null,n.t1=t,n.next="delete"===n.t1?12:16;break;case 12:return n.next=14,a.T.callAPI("/api/v1/access-keys/:id/do/delete",{params:{id:e.id},alert:{okMessage:a.$t("Access Key deleted")}});case 14:return r=n.sent,n.abrupt("break",16);case 16:if(r&&r.ok){n.next=18;break}return n.abrupt("return");case 18:return a.$store.commit("updateHighlightedTableDataId",e.id),n.next=21,a.loadData();case 21:case"end":return n.stop()}}),n)})))()},openSetup:function(e,t){var a=this.T.packRouteQuery();switch(t){case"add":this.$router.push({name:"access-key-add",query:a});break}},showSecret:function(e){this.$set(this.showSecretMap,e.id,!0)}},computed:{},props:{},data:function(){var e=this.T.createPageInfo(),t=this.T.createListQuery();return{data:[],pageInfo:e,dataFilter:{_fuzzySearch:t._fuzzySearch},showSecretMap:{}}}}),o=c,i=a("2877"),u=a("e692"),l=Object(i["a"])(o,n,r,!1,null,"efea95d2",null);"function"===typeof u["default"]&&Object(u["default"])(l);t["default"]=l.exports},"68fc":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"zh-CN":{"Access Key deleted":"AccessKey已删除","No Access Key has ever been added":"从未添加过任何授权链接","Are you sure you want to delete the Access Key?":"是否确认删除此AccessKey？"}}'),delete e.options._Ctor}},e692:function(e,t,a){"use strict";var n=a("68fc"),r=a.n(n);t["default"]=r.a}}]);