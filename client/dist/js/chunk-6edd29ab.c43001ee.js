(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6edd29ab"],{"31e7":function(t,e,a){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}a.d(e,"a",(function(){return n}))},"6e5c":function(t,e,a){"use strict";a("e1ca")},"74f5":function(t,e,a){t.exports=a("7ab4")(1131)},"8c3f":function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh-CN":{"Loading":"加载中","PIP Tool":"PIP工具","Mirror":"镜像源","Install Package":"安装包","Installed Packages":"已安装的包","Package":"包","Version":"版本","Built-in":"内置","Installed":"已安装","Exactly match":"完全匹配","Install":"安装","Installing":"正在安装","Package installed: {pkg}":"包已安装：{pkg}","[object Object]":"任意一个容器ID","You can also install the package by following command":"您也可以使用以下命令来安装","Previous installing may still running":"之前的安装似乎仍然在运行","Are you sure you want to install the package now?":"是否确定现在就安装？","Douban mirror":"豆瓣镜像","Tsinghua University mirror":"清华大学镜像","USTC mirror":"中国科学技术大学镜像","Alibaba Cloud mirror":"阿里云镜像","Pypi Official":"Pypi官方原版"}}'),delete t.options._Ctor}},c3bb:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade"}},[t.installedPackages.length<=0?a("h1",{staticClass:"loading"},[a("i",{staticClass:"fa fa-fw fa-circle-o-notch fa-spin"}),t._v("\n    "+t._s(t.$t("Loading"))+"\n  ")]):t._e(),t._v(" "),t.$store.state.isLoaded?a("el-container",{attrs:{direction:"vertical"}},[a("el-header",{attrs:{height:"60px"}},[a("h1",[t._v(t._s(t.$t("PIP Tool")))])]),t._v(" "),a("el-main",[a("el-divider",{attrs:{"content-position":"left"}},[a("h1",[t._v(t._s(t.$t("Install Package")))])]),t._v(" "),a("el-select",{staticStyle:{width:"235px"},model:{value:t.pypiMirror,callback:function(e){t.pypiMirror=e},expression:"pypiMirror"}},t._l(t.PIP_MIRRORS,(function(t){return a("el-option",{key:t.key,attrs:{label:t.name,value:t.value}})})),1),t._v(" "),a("el-input",{staticStyle:{width:"500px"},attrs:{placeholder:"package or package==1.0.0"},model:{value:t.packageToInstall,callback:function(e){t.packageToInstall=e},expression:"packageToInstall"}}),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:!t.isInstallable||t.isInstalling},on:{click:t.installPackage}},[t.isInstalling?a("span",[a("i",{staticClass:"fa fa-fw fa-circle-o-notch fa-spin"}),t._v("\n          "+t._s(t.$t("Installing"))+"\n        ")]):a("span",[t._v(t._s(t.$t("Install")))])]),t._v(" "),a("p",{staticClass:"pip-install-tips"},[t.pipShell?[t._v("\n          "+t._s(t.$t("You can also install the package by following command"))+t._s(t.$t(":"))+"\n          "),a("br"),t._v("\n          　\n          "),a("code",{staticClass:"text-main"},[t._v(t._s(t.pipShell))]),t._v(" "),a("CopyButton",{attrs:{content:t.pipShell}})]:t._e()],2),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[a("h1",[t._v(t._s(t.$t("Installed Packages")))])]),t._v(" "),a("el-table",{staticClass:"common-table",attrs:{data:t.installedPackages}},[a("el-table-column",{attrs:{label:t.$t("Package"),sortable:"","sort-by":"name"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("code",[t._v(t._s(e.row.name))])]}}],null,!1,370914816)}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("Version")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("code",[t._v(t._s(e.row.version))])]}}],null,!1,2406261309)}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("Built-in"),align:"center",sortable:"","sort-by":"isBuiltin",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isBuiltin?a("span",{staticClass:"text-good"},[t._v(t._s(t.$t("Yes")))]):t._e()]}}],null,!1,4156707113)})],1)],1)],1):t._e()],1)},r=[],i=(a("3062"),a("ba98"),a("da83"),a("cb3c"),a("49e3"),a("88e0"),a("e216"));function s(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=Object(i["a"])(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,l=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return l=t.done,t},e:function(t){o=!0,s=t},f:function(){try{l||null==a["return"]||a["return"]()}finally{if(o)throw s}}}}var l=a("a6db"),o=(a("fbe6"),a("60da"),a("977b"),a("81df"),a("74f5"),a("bd06"),a("6e4b"),a("672e"),{name:"PIPTool",components:{},watch:{$route:{immediate:!0,handler:function(t,e){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.loadData();case 2:case"end":return t.stop()}}),t)})))()}}},methods:{loadData:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.T.callAPI_get("/api/v1/python-packages/installed");case 2:if(a=e.sent,a.ok){e.next=5;break}return e.abrupt("return");case 5:t.installedPackages=a.data,t.pypiMirror=t.PIP_MIRRORS[0].value,t.$store.commit("updateLoadStatus",!0);case 8:case"end":return e.stop()}}),e)})))()},installPackage:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a,n,r,i,l,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.T.callAPI_get("/api/v1/python-packages/install-status");case 2:if(a=e.sent,a.ok){e.next=5;break}return e.abrupt("return");case 5:if(!a.data||"RUNNING"!==a.data.status){e.next=10;break}return e.next=8,t.T.confirm("".concat(t.$t("Previous installing may still running"),'\n              <hr class="br">').concat(t.$t("Are you sure you want to install the package now?")));case 8:if(e.sent){e.next=10;break}return e.abrupt("return");case 10:t.isInstalling=!0,n=t.packageToInstall.trim().split(/\s+/),r=t.T.jsonCopy(n),i=s(n),e.prev=14,i.s();case 16:if((l=i.n()).done){e.next=25;break}return o=l.value,e.next=20,t.T.callAPI("post","/api/v1/python-packages/install",{body:{mirror:t.pypiMirror,pkg:o},alert:{okMessage:t.$t("Package installed: {pkg}",{pkg:o})}});case 20:a=e.sent,a.ok&&r.splice(r.indexOf(o),1),t.packageToInstall=r.join(" ");case 23:e.next=16;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e["catch"](14),i.e(e.t0);case 30:return e.prev=30,i.f(),e.finish(30);case 33:t.isInstalling=!1,t.loadData();case 35:case"end":return e.stop()}}),e,null,[[14,27,30,33]])})))()}},computed:{PIP_MIRRORS:function(){return[{name:this.$t("Alibaba Cloud mirror"),value:"https://mirrors.aliyun.com/pypi/simple/"},{name:this.$t("Douban mirror"),value:"https://pypi.douban.com/simple/"},{name:this.$t("Tsinghua University mirror"),value:"https://pypi.tuna.tsinghua.edu.cn/simple/"},{name:this.$t("USTC mirror"),value:"https://pypi.mirrors.ustc.edu.cn/simple/"},{name:this.$t("Pypi Official"),value:""}]},pipShell:function(){if(!this.isInstallable)return null;var t=this.$store.getters.CONFIG("_HOSTNAME")||this.$t("{Any container ID}"),e="-t ".concat(this.$store.getters.CONFIG("_PIP_INSTALL_DIR")),a=this.pypiMirror?"-i ".concat(this.pypiMirror):"",n="sudo docker exec ".concat(t," pip install ").concat(e," ").concat(a," ").concat(this.packageToInstall.trim());return n},isInstallable:function(){if(this.T.isNothing(this.packageToInstall))return!1;var t,e=s(this.packageToInstall.trim().split(/\s+/));try{for(e.s();!(t=e.n()).done;){var a=t.value,n=a.split("==");if(n.length>2)return!1;if(!n[0].match(/^[0-9a-zA-Z\-]+$/))return!1;if(n.length>1&&this.T.isNothing(n[1]))return!1}}catch(r){e.e(r)}finally{e.f()}return!0}},props:{},data:function(){return{pypiMirror:"",packageToInstall:"",queriedPackageMap:{},installedPackages:[],isInstalling:!1}},mounted:function(){var t=this.$route.query.pkgs;t&&(this.packageToInstall=this.T.fromBase64(t))}}),c=o,u=(a("6e5c"),a("0620")),p=a("f47c"),f=Object(u["a"])(c,n,r,!1,null,"1bbc45c4",null);"function"===typeof p["default"]&&Object(p["default"])(f);e["default"]=f.exports},e1ca:function(t,e,a){},e216:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));a("d44b"),a("da83"),a("e5ac"),a("eff6"),a("49e3");var n=a("31e7");function r(t,e){if(t){if("string"===typeof t)return Object(n["a"])(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(n["a"])(t,e):void 0}}},eff6:function(t,e,a){t.exports=a("7ab4")(1107)},f47c:function(t,e,a){"use strict";var n=a("8c3f"),r=a.n(n);e["default"]=r.a}}]);