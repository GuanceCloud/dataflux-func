(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ba35958"],{1165:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"zh-CN":{"About":"关于","You are using {0} browser":"您正在使用 {0} 浏览器","In this system:":"在本系统中：","Monospaced font is from {0}":"等宽字体来自 {0}","Icons used are from {0}":"图标来自 {0}","Illustrations used are from {0}":"插图来自 {0}","New version {ver} is available, click here to go to the official website":"可以升级到 {ver} 版本，点击此处前往官方网站查看","Version Information":"版本信息","System Report":"系统报告","Version":"版本","Architecture":"架构","Vue Version":"Vue 版本","Node Version":"Node 版本","Python Version":"Python 版本","Release Date":"发布日期","Loading...":"加载中...","Get System Report":"获取系统报告","Clear Worker Queue":"清空工作队列","Clear Log and Cache":"清空日志与缓存表","Worker Queue cleared":"工作队列已清空","Log and Cache cleared":"日志与缓存表已清空","Please note that there may be a delay in the system reporting":"请注意系统报告数据可能存在延迟","Full Node name is celery@{Number}":"完整节点名称为 celery@{编号}","Full Worker Queue name is DataFluxFunc-worker#workerQueue@{Number}":"完整工作队列名称为 DataFluxFunc-worker#workerQueue@{序号}","taskRemain":"（存在 {n} 个待处理任务）","Are you sure you want to clear the Worker Queue?":"是否确认清空此工作队列？","Are you sure you want to clear the Log and Cache?":"是否确认清空日志与缓存表？","DB Schema Version":"数据库结构版本","Web Server CPU Usage":"Web 服务 CPU 使用率","Web Server Memory Usage":"Web 服务内存使用量","Worker CPU Usage":"Worker CPU 使用率","Worker Memory Usage":"Worker 内存使用量","DB Table Total Used":"数据库表总用量（数据 + 索引）","DB Table Data Used":"数据库表数据用量","DB Table Index Used":"数据库表索引用量","Cache DB Number":"缓存数据库序号","Cache Key Count":"缓存键数量","Cache Memory Usage":"缓存内存使用量","Worker Node Status":"Worker 节点状态","Wroker Queue Distribution":"Worker 队列分布","Wroker Queue Length":"Worker 队列长度"}}'),delete e.options._Ctor}},1494:function(e,t,a){},"190e":function(e,t,a){"use strict";var r=a("1165"),n=a.n(r);t["default"]=n.a},"28bc":function(e,t,a){},"476e":function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"taskRemain":"(remain {n} task to process) | (remain {n} tasks to process)"}}'),delete e.options._Ctor}},"67f8":function(e,t,a){"use strict";a.r(t);a("b0c0");var r=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"fade"}},[t("el-container",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.isLoaded,expression:"$store.state.isLoaded"}],attrs:{direction:"vertical"}},[t("el-header",{attrs:{height:"60px"}},[t("h1",[e._v(e._s(e.$t("About")))])]),e._v(" "),t("el-main",[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:15}},[t("div",{staticClass:"about-form"},[t("div",{staticClass:"announce"},[t("p",[t("i18n",{attrs:{path:"You are using {0} browser"}},[t("span",{staticClass:"text-main"},[e._v(e._s(e.T.getBrowser())+" ("+e._s(e.T.getEngine())+")")])])],1),e._v(" "),t("p",[e._v("\n                "+e._s(e.$t("In this system:"))+"\n                "),t("ul",[t("li",[t("i18n",{attrs:{path:"Monospaced font is from {0}"}},[t("el-link",{attrs:{href:"https://typeof.net/Iosevka/",target:"_blank"}},[t("i",{staticClass:"fa fa-fw fa-external-link"}),e._v("\n                        Iosevka\n                      ")])],1)],1),e._v(" "),t("li",[t("i18n",{attrs:{path:"Icons used are from {0}"}},[t("el-link",{attrs:{href:"https://fontawesome.com/v4/",target:"_blank"}},[t("i",{staticClass:"fa fa-fw fa-external-link"}),e._v("\n                        Font Awesome (v4)\n                      ")])],1)],1),e._v(" "),t("li",[t("i18n",{attrs:{path:"Illustrations used are from {0}"}},[t("el-link",{attrs:{href:"https://flexiple.com/illustrations/",target:"_blank"}},[t("i",{staticClass:"fa fa-fw fa-external-link"}),e._v("\n                        Scale by flexiple\n                      ")])],1)],1)])])]),e._v(" "),t("el-divider",{attrs:{"content-position":"left"}},[t("h1",[e._v(e._s(e.$t("Version Information")))])]),e._v(" "),t("el-form",{attrs:{"label-width":"120px"}},[t("el-form-item",{attrs:{label:e.$t("Version")}},[t("el-input",{attrs:{readonly:!0,value:e.FULL_VERSION}}),e._v(" "),e.common.hasNewVersion()?t("el-link",{attrs:{href:"https://func.guance.com/",target:"_blank"}},[e._v("\n                  "+e._s(e.$t("New version {ver} is available, click here to go to the official website",{ver:e.$store.state.latestVersion}))+"\n                ")]):e._e()],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("Architecture")}},[t("el-input",{attrs:{placeholder:e.$t("Loading..."),readonly:!0,value:e.about.architecture}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("Release Date")}},[t("el-input",{attrs:{placeholder:e.$t("Loading..."),readonly:!0,value:e.releaseDateTEXT}})],1),e._v(" "),t("br"),e._v(" "),t("el-form-item",{attrs:{label:e.$t("Vue Version")}},[t("el-input",{attrs:{placeholder:e.$t("Loading..."),readonly:!0,value:e.about.vueVersion}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("Node Version")}},[t("el-input",{attrs:{placeholder:e.$t("Loading..."),readonly:!0,value:e.about.nodeVersion}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("Python Version")}},[t("el-input",{attrs:{placeholder:e.$t("Loading..."),readonly:!0,value:e.about.pythonVersion}})],1)],1),e._v(" "),t("el-divider",{attrs:{"content-position":"left"}},[t("h1",[e._v(e._s(e.$t("System Report")))])]),e._v(" "),t("el-form",{attrs:{"label-width":"120px"}},[t("el-form-item",[t("el-button",{on:{click:e.getSystemReport}},[e._v(e._s(e.$t("Get System Report")))])],1),e._v(" "),e.showSystemReport?[t("el-form-item",[t("el-input",{attrs:{placeholder:e.$t("Loading..."),type:"textarea",autosize:"",resize:"none",readonly:!0,value:e.systemReportTEXT}})],1),e._v(" "),t("el-form-item",[t("InfoBlock",{attrs:{type:"info",title:e.$t("Full Node name is celery@{Number}")}}),e._v(" "),t("InfoBlock",{attrs:{type:"info",title:e.$t("Full Worker Queue name is DataFluxFunc-worker#workerQueue@{Number}")}})],1)]:e._e(),e._v(" "),t("el-form-item",[e.dbTableTotalUsedInfoTEXT||e.dbTableDataUsedInfoTEXT||e.dbTableIndexUsedInfoTEXT?t("el-button",{on:{click:e.clearLogCacheTables}},[e._v(e._s(e.$t("Clear Log and Cache")))]):e._e(),e._v(" "),e.workerQueues.length>0?t("el-dropdown",{attrs:{trigger:"click"},on:{command:e.clearWorkerQueue}},[t("el-button",[e._v(e._s(e.$t("Clear Worker Queue")))]),e._v(" "),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{disabled:""}},[e._v("\n                      "+e._s(e.$t("Clear Worker Queue"))+"\n                    ")]),e._v(" "),e._l(e.workerQueues,(function(a,r){return t("el-dropdown-item",{key:a.name,attrs:{command:a.name,divided:0===r}},[e._v("\n                       "),t("span",{staticClass:"code-font"},[e._v("#"+e._s(a.name))]),e._v(" "),t("small",{staticClass:"text-info"},[e._v(e._s(e.$tc("taskRemain",a.value)))])])}))],2)],1):e._e()],1)],2)],1)]),e._v(" "),t("el-col",{staticClass:"hidden-md-and-down",attrs:{span:9}})],1)],1)],1)],1)},n=[],o=a("c7eb"),s=a("1da1"),c=(a("fb6a"),a("38cf"),a("14d9"),a("4e82"),a("d81d"),a("99af"),a("a15b"),a("d3b7"),a("159b"),a("b680"),a("498a"),a("2b0e")),i={name:"About",components:{},watch:{$route:{immediate:!0,handler:function(e,t){var a=this;return Object(s["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.loadData();case 2:case"end":return e.stop()}}),e)})))()}}},methods:{_getVersion:function(){var e=this;return Object(s["a"])(Object(o["a"])().mark((function t(){var a;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.T.callAPI_get("/api/v1/image-info/do/get");case 2:a=t.sent,a.ok&&e.T.notNothing(a.data)?e.about={architecture:a.data.ARCHITECTURE,releaseTimestamp:a.data.CREATE_TIMESTAMP,vueVersion:c["default"].version,nodeVersion:a.data.NODE_VERSION,pythonVersion:a.data.PYTHON_VERSION}:e.about={architecture:e.NO_INFO_TEXT,vueVersion:e.NO_INFO_TEXT,nodeVersion:e.NO_INFO_TEXT,pythonVersion:e.NO_INFO_TEXT,releaseDate:e.NO_INFO_TEXT};case 4:case"end":return t.stop()}}),t)})))()},_getDBSchemaVersion:function(){var e=this;return Object(s["a"])(Object(o["a"])().mark((function t(){var a;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dbSchemaVersionInfoTEXT="",t.next=3,e.T.callAPI_get("/api/v1/upgrade-info",{query:{seq:"latest"}});case 3:a=t.sent,a.ok?e.T.isNothing(a.data)?e.dbSchemaVersionInfoTEXT="seq = 0":e.dbSchemaVersionInfoTEXT="seq = ".concat(a.data[0].seq):e.dbSchemaVersionInfoTEXT=e.NO_INFO_TEXT;case 5:case"end":return t.stop()}}),t)})))()},_getSysStats:function(){var e=this;return Object(s["a"])(Object(o["a"])().mark((function t(){var a,r,n,s,c,i;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.serverCPUPercentInfoTEXT="",e.serverMemoryRSSInfoTEXT="",e.workerCPUPercentInfoTEXT="",e.workerMemoryPSSInfoTEXT="",e.dbTableTotalUsedInfoTEXT="",e.dbTableDataUsedInfoTEXT="",e.dbTableIndexUsedInfoTEXT="",e.cacheDBMemoryUsedInfoTEXT="",e.cacheDBKeyUsedInfoTEXT="",e.workerQueueLengthInfoTEXT="",t.next=12,e.T.callAPI_get("/api/v1/monitor/sys-stats/do/get");case 12:if(a=t.sent,a.ok&&e.T.notNothing(a.data)){for(c in r=function(t,a,r){a=a||"",r=r||"",Array.isArray(t)&&(t={"":t});var n=0;for(var o in t)o.length>n&&(n=o.length);var s=[];for(var c in t){var i=t[c];if(!e.T.isNothing(i)){var u=i.slice(-1)[0],l=u[0];if(!(Date.now()-l>9e5)){var T=u[1],d=" ".repeat(n-c.length);Array.isArray(a)&&(a=T>1?a[0]:a[1]),s.push({prefix:r,name:c,padding:d,latestValue:T,unit:a})}}}s.sort((function(e,t){return e.latestValue>t.latestValue?-1:e.latestValue<t.latestValue?1:0}));var f=s.map((function(e){return"".concat(e.prefix).concat(e.name).concat(e.padding," = ").concat(e.latestValue).concat(e.unit)}));return f.join("\n")},n=a.data,e.serverCPUPercentInfoTEXT=r(n.serverCPUPercent,"%"),e.serverMemoryRSSInfoTEXT=r(n.serverMemoryRSS," MB"),e.workerCPUPercentInfoTEXT=r(n.workerCPUPercent,"%"),e.workerMemoryPSSInfoTEXT=r(n.workerMemoryPSS," MB"),e.dbTableTotalUsedInfoTEXT=r(n.dbTableTotalUsed," MB"),e.dbTableDataUsedInfoTEXT=r(n.dbTableDataUsed," MB"),e.dbTableIndexUsedInfoTEXT=r(n.dbTableIndexUsed," MB"),e.cacheDBKeyUsedInfoTEXT=r(n.cacheDBKeyUsed,[" Keys"," Key"]),e.cacheDBMemoryUsedInfoTEXT=r(n.cacheDBMemoryUsed," MB"),e.workerQueueLengthInfoTEXT=r(n.workerQueueLength,[" Tasks"," Task"],"#"),s=[],n.workerQueueLength)i=n.workerQueueLength[c],s.push({name:c,value:i.slice(-1)[0][1]});e.workerQueues=s}else e.serverCPUPercentInfoTEXT=e.NO_INFO_TEXT,e.serverMemoryRSSInfoTEXT=e.NO_INFO_TEXT,e.workerCPUPercentInfoTEXT=e.NO_INFO_TEXT,e.workerMemoryPSSInfoTEXT=e.NO_INFO_TEXT,e.dbTableTotalUsedInfoTEXT=e.NO_INFO_TEXT,e.dbTableDataUsedInfoTEXT=e.NO_INFO_TEXT,e.dbTableIndexUsedInfoTEXT=e.NO_INFO_TEXT,e.cacheDBKeyUsedInfoTEXT=e.NO_INFO_TEXT,e.cacheDBMemoryUsedInfoTEXT=e.NO_INFO_TEXT,e.workerQueueLengthInfoTEXT=e.NO_INFO_TEXT;case 14:case"end":return t.stop()}}),t)})))()},_getNodesStats:function(){var e=this;return Object(s["a"])(Object(o["a"])().mark((function t(){var a,r;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.nodesStatsInfoTEXT="",t.next=3,e.T.callAPI_get("/api/v1/monitor/nodes/do/get-stats");case 3:a=t.sent,a.ok&&e.T.notNothing(a.data)?(r=[],a.data.forEach((function(t){var a=t.node.split("@")[1];r.push("\nNODE = ".concat(a)),r.push("  Pool   = ".concat(t.pool.processes.length," / ").concat(t.pool["max-concurrency"])),r.push("  Proc   = ".concat(t.pool.processes.join(", "))),r.push("  Dist#  = ".concat(t.pool.writes.raw," Tasks")),r.push("  Dist%  = ".concat(t.pool.writes.all)),r.push("  maxrss = ".concat((t.rusage.maxrss/1024).toFixed(2)," MB")),r.push("  ixrss  = ".concat((t.rusage.ixrss/1024).toFixed(2)," MB")),r.push("  idrss  = ".concat((t.rusage.idrss/1024).toFixed(2)," MB")),r.push("  isrss  = ".concat((t.rusage.isrss/1024).toFixed(2)," MB")),e.cacheDBNumberInfoTEXT=" = ".concat(t.broker.virtual_host)})),e.nodesStatsInfoTEXT=r.join("\n").trim()):e.nodesStatsInfoTEXT=e.NO_INFO_TEXT;case 5:case"end":return t.stop()}}),t)})))()},_getNodesActiveQueues:function(){var e=this;return Object(s["a"])(Object(o["a"])().mark((function t(){var a,r;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.nodesActiveQueuesInfoTEXT="",t.next=3,e.T.callAPI_get("/api/v1/monitor/nodes/do/get-active-queues");case 3:a=t.sent,a.ok&&e.T.notNothing(a.data)?(r=[],a.data.forEach((function(e){var t=e.node.split("@")[1];r.push("\nNODE = ".concat(t));var a=e.activeQueues.map((function(e){return"#"+e.shortName}));r.push("  ".concat(a.join(", "))),r.push("  --- ".concat(e.activeQueues.length," Active Queues ---"))})),e.nodesActiveQueuesInfoTEXT=r.join("\n").trim()):e.nodesActiveQueuesInfoTEXT=e.NO_INFO_TEXT;case 5:case"end":return t.stop()}}),t)})))()},loadData:function(){var e=this;return Object(s["a"])(Object(o["a"])().mark((function t(){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.commit("updateLoadStatus",!0),e._getVersion();case 2:case"end":return t.stop()}}),t)})))()},getSystemReport:function(){var e=this;return Object(s["a"])(Object(o["a"])().mark((function t(){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.showSystemReport=!0,e._getDBSchemaVersion(),e._getSysStats(),e._getNodesStats(),e._getNodesActiveQueues();case 5:case"end":return t.stop()}}),t)})))()},clearWorkerQueue:function(e){var t=this;return Object(s["a"])(Object(o["a"])().mark((function a(){return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.T.confirm(t.$t("Are you sure you want to clear the Worker Queue?"));case 2:if(a.sent){a.next=4;break}return a.abrupt("return");case 4:return a.next=6,t.T.callAPI("post","/api/v1/monitor/worker-queues/do/clear",{body:{workerQueues:[e]},alert:{okMessage:"".concat(t.$t("Worker Queue cleared"),"\n            <br><small>").concat(t.$t("Please note that there may be a delay in the system reporting"),"<small>")}});case 6:a.sent;case 7:case"end":return a.stop()}}),a)})))()},clearLogCacheTables:function(){var e=this;return Object(s["a"])(Object(o["a"])().mark((function t(){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.T.confirm(e.$t("Are you sure you want to clear the Log and Cache?"));case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.T.callAPI("post","/api/v1/log-cache-tables/do/clear",{alert:{okMessage:"".concat(e.$t("Log and Cache cleared"),"\n            <br><small>").concat(e.$t("Please note that there may be a delay in the system reporting"),"<small>")}});case 6:t.sent;case 7:case"end":return t.stop()}}),t)})))()}},computed:{NO_INFO_TEXT:function(){return this.$t("No Data")},FULL_VERSION:function(){return this.$store.getters.CONFIG("EDITION")?"".concat(this.$store.getters.CONFIG("VERSION")," (").concat(this.$store.getters.CONFIG("EDITION"),")"):this.$store.getters.CONFIG("VERSION")},systemReportTEXT:function(){return["[".concat(this.$t("DB Schema Version"),"]"),this.dbSchemaVersionInfoTEXT,"\n[".concat(this.$t("Web Server CPU Usage"),"]"),this.serverCPUPercentInfoTEXT,"\n[".concat(this.$t("Web Server Memory Usage"),"]"),this.serverMemoryRSSInfoTEXT,"\n[".concat(this.$t("Worker CPU Usage"),"]"),this.workerCPUPercentInfoTEXT,"\n[".concat(this.$t("Worker Memory Usage"),"]"),this.workerMemoryPSSInfoTEXT,"\n[".concat(this.$t("DB Table Total Used"),"]"),this.dbTableTotalUsedInfoTEXT,"\n[".concat(this.$t("DB Table Data Used"),"]"),this.dbTableDataUsedInfoTEXT,"\n[".concat(this.$t("DB Table Index Used"),"]"),this.dbTableIndexUsedInfoTEXT,"\n[".concat(this.$t("Cache DB Number"),"]"),this.cacheDBNumberInfoTEXT,"\n[".concat(this.$t("Cache Key Count"),"]"),this.cacheDBKeyUsedInfoTEXT,"\n[".concat(this.$t("Cache Memory Usage"),"]"),this.cacheDBMemoryUsedInfoTEXT,"\n[".concat(this.$t("Worker Node Status"),"]"),this.nodesStatsInfoTEXT,"\n[".concat(this.$t("Wroker Queue Distribution"),"]"),this.nodesActiveQueuesInfoTEXT,"\n[".concat(this.$t("Wroker Queue Length"),"]"),this.workerQueueLengthInfoTEXT].join("\n")},releaseDateTEXT:function(){var e="",t="";if(this.about.releaseTimestamp>0){var a=1e3*this.about.releaseTimestamp;e=this.M.utc(a).locale(this.T.getUILocale()).utcOffset(8).format("YYYY-MM-DD HH:mm:ss"),t=this.M.utc(a).locale(this.T.getUILocale()).fromNow()}return e&&t?"".concat(e," ").concat(this.$t("(")).concat(t).concat(this.$t(")")):"-"}},props:{},data:function(){return{about:{},showSystemReport:!1,dbSchemaVersionInfoTEXT:"",dbTableTotalUsedInfoTEXT:"",dbTableDataUsedInfoTEXT:"",dbTableIndexUsedInfoTEXT:"",cacheDBNumberInfoTEXT:"",cacheDBKeyUsedInfoTEXT:"",cacheDBMemoryUsedInfoTEXT:"",serverCPUPercentInfoTEXT:"",serverMemoryRSSInfoTEXT:"",workerCPUPercentInfoTEXT:"",workerMemoryPSSInfoTEXT:"",nodesStatsInfoTEXT:"",nodesActiveQueuesInfoTEXT:"",workerQueueLengthInfoTEXT:"",workerQueues:[]}}},u=i,l=(a("ec5a"),a("72c5"),a("2877")),T=a("fb21"),d=a("190e"),f=Object(l["a"])(u,r,n,!1,null,"e20300c0",null);"function"===typeof T["default"]&&Object(T["default"])(f),"function"===typeof d["default"]&&Object(d["default"])(f);t["default"]=f.exports},"72c5":function(e,t,a){"use strict";a("1494")},ec5a:function(e,t,a){"use strict";a("28bc")},fb21:function(e,t,a){"use strict";var r=a("476e"),n=a.n(r);t["default"]=n.a}}]);